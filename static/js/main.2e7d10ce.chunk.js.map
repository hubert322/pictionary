{"version":3,"sources":["utils/const.js","utils/socket.js","components/Home/HomeApiSocket.js","utils/hooks.js","components/Panel/Panel.js","components/TextField/TextField.js","components/Home/Footer/Footer.js","components/Home/Home.js","components/Room/Room.js","components/Room/RoomApiSocket.js","components/Game/PlayersList/PlayersList.js","components/Game/Canvas/Canvas.js","components/Game/Canvas/CanvasApiSocket.js","components/ChatRoom/ChatRoom.js","components/ChatRoom/ChatRoomApiSocket.js","components/Game/Overlay/Overlay.js","components/Game/Overlay/OverlayApiSocket.js","components/Game/Game.js","components/Game/GameApiSocket.js","components/App/App.js","serviceWorker.js","index.js"],"names":["serverBaseUrl","mediumDeviceMinWidth","socket","io","transports","sendJoinGame","gameCode","pid","playerName","history","toLowerCase","emit","on","data","off","enterRoom","alert","_callee","response","_response","regenerator_default","a","wrap","_context","prev","next","localStorage","getItem","axios","post","sent","console","log","abrupt","t0","setItem","t1","stop","push","concat","useWindowSize","_useState3","useState","width","window","innerWidth","height","innerHeight","_useState4","Object","slicedToArray","size","setSize","useLayoutEffect","updateSize","addEventListener","removeEventListener","Panel","forwardRef","props","ref","children","className","customRef","react_default","createElement","displayName","defaultProps","useStyles","makeStyles","textField","margin","& .MuiOutlinedInput-root .MuiOutlinedInput-notchedOutline","borderColor","&:hover .MuiOutlinedInput-root .MuiOutlinedInput-notchedOutline","& .MuiOutlinedInput-root.Mui-focused .MuiOutlinedInput-notchedOutline","& .MuiOutlinedInput-root","color","& label","& label.Mui-focused","TextField","classes","label","variant","value","onChange","error","inputRef","onKeyDown","Footer","href","target","rel","esm","Provider","index_esm","Home","_useState","_useState2","setGameCode","_useLocalStorage","key","defaultValue","setValue","useEffect","useLocalStorage","_useLocalStorage2","setPlayerName","playerNameLabel","setPlayerNameLabel","_useState5","_useState6","hasPlayerNameError","setHasPlayerNameError","_useState7","_useState8","gameCodeLabel","setGameCodeLabel","_useState9","_useState10","hasGameCodeError","setHasGameCodeError","_useState11","_useState12","setPid","useHistory","_getPid","apply","this","arguments","getPid","then","pidValue","react_router_dom","to","components_Panel_Panel","components_TextField_TextField","e","type","onClick","sendNewGame","Home_Footer_Footer","formControl","& .MuiOutlinedInput-root.Mui-disabled .MuiOutlinedInput-notchedOutline","& .Mui-disabled","cursor","& .MuiOutlinedInput-root.Mui-disabled","& label.Mui-disabled","& option","& .MuiSelect-icon","fill","& .MuiSelect-icon.Mui-disabled","Room","state","useLocation","players","setPlayers","ownerPid","setOwnerPid","rounds","setRounds","drawTime","setDrawTime","sendEnterRoom","toString","parseInt","slice","map","player","_id","md_index_esm","FormControl","disabled","InputLabel","htmlFor","Select","native","sendRounds","inputProps","id","sendDrawTime","length","sendPlayGame","PlayerList","artistPid","guessedCorrectPids","rankings","_ref","index","score","style","backgroundColor","hasOwnProperty","Canvas","artist","selectedWord","currRound","timer","setColor","brushStyle","setBrushStyle","canvas","useRef","isMouseDragging","prevX","prevY","paths","mouseDown","isTouch","undefined","current","document","body","userSelect","getSelection","removeAllRanges","i","draw","mouseMove","mouseUp","isMouseMove","touchIndex","_getMousePos","windowX","windowY","rect","getBoundingClientRect","touches","clientX","clientY","currX","left","right","currY","top","bottom","getMousePos","line","newColor","drawLine","sendDrawLine","dot","x","y","drawDot","sendDrawDot","drawFill","sendDrawFill","addPath","ctx","getContext","beginPath","strokeStyle","lineWidth","moveTo","lineTo","stroke","closePath","points","fillStyle","fillRect","isInRange","isEmpty","imageData","r","g","b","baseIndex","Math","floor","_canvas$current$getBo","getImageData","_getInitialColor","getInitialColor","_getInitialColor2","dirs","visited","stack","_stack$pop","pop","_stack$pop2","_i","_dirs","_ref3","_ref2","newX","newY","clearCanvas","clearPath","clearRect","_paths$current$i","j","undoCanvas","word","underlinedWord","getUnderlinedWord","onTouchStart","preventDefault","onMouseDown","onTouchMove","onMouseMove","onTouchEnd","onMouseUp","onMouseLeave","tmpColor","gi_index_esm","sendUndoCanvas","io_index_esm","sendClearCanvas","& input","padding","transform","ChatRoom","addGuessedCorrectPid","message","setMessage","messages","setMessages","messageArea","messageTextField","addMessage","status","newMessage","toConsumableArray","scrollTop","scrollHeight","onSendMessage","sendMessage","focus","useImperativeHandle","keyCode","messageTextFieldOnKey","Overlay","words","endTurnData","endGameData","onBackRoom","getWords","Fragment","sendSelectedWord","earnedScore","Game","setArtist","isDrawing","setIsDrawing","setWords","setTimer","_useState13","Array","_useState14","setRankings","_useState15","_useState16","setEndTurnData","_useState17","_useState18","setGuessedCorrectPids","_useState19","_useState20","setEndGameData","_useState21","_useState22","setSelectedWord","_useState23","_useState24","setCurrRound","chatRoomRef","sendEnterGame","time","Game_Canvas_Canvas","Game_Overlay_Overlay","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","done","err","return","getPlayerName","PlayersList_PlayersList","components_ChatRoom_ChatRoom","App","react_router","exact","path","components_Home_Home","components_Room_Room","components_Game_Game","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","root","getElementById","ReactDOM","render","components_App_App","URL","process","origin","fetch","contentType","headers","get","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.2e7d10ce.chunk.js","sourcesContent":["export const serverBaseUrl =\n  process.env.NODE_ENV === \"development\"\n    ? \"http://192.168.0.245:5000\"\n    : \"https://pictionary-live.herokuapp.com\";\n\nexport const mediumDeviceMinWidth = 768;\n","import io from \"socket.io-client\";\nimport { serverBaseUrl } from \"./const\";\n\nexport const socket = io(serverBaseUrl, { transports: [\"websocket\"] });\n","import axios from \"axios\";\nimport { socket } from \"../../utils/socket\";\nimport { serverBaseUrl } from \"../../utils/const\";\n\nexport function sendJoinGame(gameCode, pid, playerName, history) {\n  gameCode = gameCode.toLowerCase();\n  socket.emit(\"send_join_room\", {\n    gameCode: gameCode\n  });\n\n  socket.on(\"join_room_success\", data => {\n    socket.off(\"join_room_success\");\n    socket.off(\"join_room_error\");\n    enterRoom(gameCode, pid, playerName, history);\n  });\n\n  socket.on(\"join_room_error\", data => {\n    socket.off(\"join_room_success\");\n    socket.off(\"join_room_error\");\n    alert(\"join room error\");\n  });\n}\n\nexport function sendNewGame(pid, playerName, history) {\n  socket.emit(\"send_new_room\", {\n    pid: pid\n  });\n\n  socket.on(\"new_room_success\", data => {\n    socket.off(\"new_room_success\");\n    socket.off(\"new_room_error\");\n    enterRoom(data.gameCode, pid, playerName, history);\n  });\n\n  socket.on(\"new_room_error\", data => {\n    alert(\"new room error\");\n    console.log(data);\n    socket.off(\"new_room_success\");\n    socket.off(\"new_room_error\");\n  });\n}\n\nexport async function getPid() {\n  let pid = localStorage.getItem(\"pid\");\n  pid = null; // debug\n  if (pid != null) {\n    try {\n      let data = {\n        pid: pid\n      };\n      let response = await axios.post(\n        serverBaseUrl + \"/api/player/isValid\",\n        data\n      );\n      console.log(response.data);\n      if (response.data[\"isValid\"]) {\n        return pid;\n      }\n    } catch (e) {\n      alert(\"Error checking pid. Please reload the page.\");\n      console.log(e.response);\n      return null;\n    }\n  }\n  try {\n    let response = await axios.post(serverBaseUrl + \"/api/player/new\");\n    console.log(response.data);\n    pid = response.data[\"pid\"];\n    localStorage.setItem(\"pid\", pid);\n    return pid;\n  } catch (e) {\n    alert(\"Failed to get pid. Please reload the page.\");\n    console.log(e.response);\n    return null;\n  }\n}\n\nfunction enterRoom(gameCode, pid, playerName, history) {\n  let data = {\n    gameCode: gameCode,\n    pid: pid,\n    playerName: playerName\n  };\n  console.log(data);\n  history.push(`/room?gameCode=${gameCode}`, data);\n  // socket.on(\"join_room_announcement\", data => {\n  //   socket.off(\"join_room_announcement\");\n  //   data.gameCode = gameCode;\n  //   data.pid = pid;\n  //   history.push(`/room?gameCode=${gameCode}`, data);\n  // });\n}\n","import { useState, useEffect, useLayoutEffect } from \"react\";\n\nexport function useLocalStorage(key, defaultValue) {\n  const [value, setValue] = useState(localStorage.getItem(key) || defaultValue);\n\n  useEffect(() => {\n    localStorage.setItem(key, value);\n  }, [value]);\n\n  return [value, setValue];\n}\n\nexport function useWindowSize() {\n  const [size, setSize] = useState({\n    width: window.innerWidth,\n    height: window.innerHeight\n  });\n\n  useLayoutEffect(() => {\n    function updateSize() {\n      setSize({\n        width: window.innerWidth,\n        height: window.innerHeight\n      });\n    }\n\n    window.addEventListener(\"resize\", updateSize);\n    return () => {\n      window.removeEventListener(\"resize\", updateSize);\n    };\n  }, []);\n\n  return size;\n}\n","import React, { forwardRef } from \"react\";\nimport PropTypes from \"prop-types\";\nimport \"./Panel.css\";\n\nconst Panel = forwardRef((props, ref) => {\n  const { children, className, customRef } = props;\n  return (\n    <div className={`Panel ${className}`} ref={customRef}>\n      {children}\n    </div>\n  );\n});\n\nPanel.displayName = \"Panel\";\n\nPanel.propTypes = {\n  children: PropTypes.oneOfType([PropTypes.object, PropTypes.array]),\n  className: PropTypes.string,\n  customRef: PropTypes.func\n};\n\nPanel.defaultProps = {\n  children: [],\n  className: \"\",\n  customRef: null\n};\n\nexport default Panel;\n","import React from \"react\";\nimport MaterialTextField from \"@material-ui/core/TextField\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport PropTypes, { object } from \"prop-types\";\n\nconst useStyles = makeStyles({\n  textField: {\n    margin: \"7px\",\n    \"& .MuiOutlinedInput-root .MuiOutlinedInput-notchedOutline\": {\n      borderColor: \"#f64f59\"\n    },\n    \"&:hover .MuiOutlinedInput-root .MuiOutlinedInput-notchedOutline\": {\n      borderColor: \"#c471ed\"\n    },\n    \"& .MuiOutlinedInput-root.Mui-focused .MuiOutlinedInput-notchedOutline\": {\n      borderColor: \"#12c2e9\"\n    },\n    \"& .MuiOutlinedInput-root\": {\n      color: \"white\"\n    },\n    \"& label\": {\n      color: \"white\"\n    },\n    \"& label.Mui-focused\": {\n      color: \"white\"\n    }\n  }\n});\n\nfunction TextField(props) {\n  const classes = useStyles();\n  const {\n    label,\n    variant,\n    value,\n    onChange,\n    error,\n    inputRef,\n    onKeyDown,\n    className\n  } = props;\n\n  return (\n    <MaterialTextField\n      label={label}\n      variant={variant}\n      value={value}\n      onChange={onChange}\n      error={error}\n      inputRef={inputRef}\n      onKeyDown={onKeyDown}\n      className={`${classes.textField} ${className}`}\n    />\n  );\n}\n\nTextField.propTypes = {\n  label: PropTypes.string,\n  variant: PropTypes.string,\n  value: PropTypes.string,\n  onChange: PropTypes.func,\n  error: PropTypes.bool,\n  inputRef: PropTypes.objectOf(object),\n  onKeyDown: PropTypes.func,\n  className: PropTypes.string\n};\n\nTextField.defaultProps = {\n  label: null,\n  variant: \"standard\",\n  value: null,\n  onChange: null,\n  error: null,\n  inputRef: null,\n  onKeyDown: null,\n  className: \"\"\n};\n\nexport default TextField;\n","import React from \"react\";\nimport { IconContext } from \"react-icons\";\nimport { FaGithub } from \"react-icons/fa\";\nimport \"./Footer.css\";\n\nfunction Footer() {\n  return (\n    <div className=\"Footer\">\n      <p className=\"FooterText\">\n        Created by{\" \"}\n        <a\n          className=\"FooterLink\"\n          href=\"https://huberthung.me\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          Hubert Hung\n        </a>\n      </p>\n      <a\n        className=\"FooterLink\"\n        href=\"https://github.com/hubert322/pictionary\"\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n      >\n        <IconContext.Provider value={{ size: \"2.2rem\" }}>\n          <FaGithub />\n        </IconContext.Provider>\n      </a>\n    </div>\n  );\n}\n\nexport default Footer;\n","import React, { useState, useEffect } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { sendJoinGame, sendNewGame, getPid } from \"./HomeApiSocket\";\nimport { useLocalStorage } from \"../../utils/hooks\";\nimport Panel from \"../Panel/Panel\";\nimport TextField from \"../TextField/TextField\";\nimport Footer from \"./Footer/Footer\";\nimport \"../App/App.css\";\nimport \"./Home.css\";\n\nfunction Home() {\n  const [gameCode, setGameCode] = useState(\"\");\n  const [playerName, setPlayerName] = useLocalStorage(\"playerName\", \"\");\n  const [playerNameLabel, setPlayerNameLabel] = useState(\"Name\");\n  const [hasPlayerNameError, setHasPlayerNameError] = useState(false);\n  const [gameCodeLabel, setGameCodeLabel] = useState(\"Game Code\");\n  const [hasGameCodeError, setHasGameCodeError] = useState(false);\n  const [pid, setPid] = useState(null);\n  let history = useHistory();\n\n  function onJoinGame() {\n    if (gameCode === \"\" || playerName === \"\") {\n      if (gameCode === \"\") {\n        setHasGameCodeError(true);\n        setGameCodeLabel(\"Game Code required\");\n      }\n      if (playerName === \"\") {\n        setHasPlayerNameError(true);\n        setPlayerNameLabel(\"Name required\");\n      }\n    } else if (typeof pid !== \"string\") {\n      console.log(\"Waiting for promise to resolve...\");\n    } else {\n      sendJoinGame(gameCode, pid, playerName, history);\n    }\n  }\n\n  function onNewGame() {\n    if (playerName === \"\") {\n      setHasPlayerNameError(true);\n      setPlayerNameLabel(\"Name required\");\n    } else if (typeof pid !== \"string\") {\n      console.log(\"Waiting for promise to resolve...\");\n    } else {\n      sendNewGame(pid, playerName, history);\n    }\n  }\n\n  useEffect(() => {\n    getPid().then(pidValue => {\n      setPid(pidValue);\n    });\n  }, []);\n\n  return (\n    <div className=\"Home\">\n      <Link to=\"/\" className=\"HomeTitle\">\n        Pictionary Live\n      </Link>\n      {pid !== null ? (\n        <Panel className=\"HomeMainContainer\">\n          <TextField\n            label={playerNameLabel}\n            variant=\"outlined\"\n            value={playerName}\n            onChange={e => setPlayerName(e.target.value)}\n            error={hasPlayerNameError}\n          />\n          <div className=\"HomeJoinGameContainer\">\n            <TextField\n              label={gameCodeLabel}\n              variant=\"outlined\"\n              className=\"HomeJoinGameTextField\"\n              value={gameCode}\n              onChange={e => setGameCode(e.target.value)}\n              error={hasGameCodeError}\n            />\n            <button\n              type=\"button\"\n              className=\"Button HomeJoinGameButton\"\n              onClick={onJoinGame}\n            >\n              Join Game\n            </button>\n          </div>\n          <button\n            type=\"button\"\n            className=\"Button HomeNewGameButton\"\n            onClick={onNewGame}\n          >\n            New Game\n          </button>\n        </Panel>\n      ) : (\n        <p>Loading...</p>\n      )}\n      <Footer />\n    </div>\n  );\n}\n\nexport default Home;\n","import React, { useState, useEffect } from \"react\";\nimport { Link, useHistory, useLocation } from \"react-router-dom\";\nimport { Select, InputLabel, FormControl } from \"@material-ui/core\";\nimport { IconContext } from \"react-icons\";\nimport { MdPerson } from \"react-icons/md\";\nimport { FaCrown } from \"react-icons/fa\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { useWindowSize } from \"../../utils/hooks\";\nimport { socket } from \"../../utils/socket\";\nimport { mediumDeviceMinWidth } from \"../../utils/const\";\nimport {\n  sendEnterRoom,\n  sendPlayGame,\n  sendRounds,\n  sendDrawTime\n} from \"./RoomApiSocket\";\nimport Panel from \"../Panel/Panel\";\nimport \"../App/App.css\";\nimport \"./Room.css\";\n\nconst useStyles = makeStyles({\n  formControl: {\n    margin: \"0px 7px\",\n    \"& .MuiOutlinedInput-root .MuiOutlinedInput-notchedOutline\": {\n      borderColor: \"#f64f59\"\n    },\n    \"&:hover .MuiOutlinedInput-root .MuiOutlinedInput-notchedOutline\": {\n      borderColor: \"#c471ed\"\n    },\n    \"& .MuiOutlinedInput-root.Mui-focused .MuiOutlinedInput-notchedOutline\": {\n      borderColor: \"#12c2e9\"\n    },\n    \"& .MuiOutlinedInput-root.Mui-disabled .MuiOutlinedInput-notchedOutline\": {\n      borderColor: \"rgba(255, 255, 255, 0.38)\"\n    },\n    \"& .Mui-disabled\": {\n      cursor: \"not-allowed\"\n    },\n    \"& .MuiOutlinedInput-root\": {\n      color: \"white\"\n    },\n    \"& .MuiOutlinedInput-root.Mui-disabled\": {\n      color: \"rgba(255, 255, 255, 0.38)\"\n    },\n    \"& label\": {\n      color: \"white\"\n    },\n    \"& label.Mui-focused\": {\n      color: \"white\"\n    },\n    \"& label.Mui-disabled\": {\n      color: \"rgba(255, 255, 255, 0.54)\"\n    },\n    \"& option\": {\n      color: \"black\"\n    },\n    \"& .MuiSelect-icon\": {\n      fill: \"white\"\n    },\n    \"& .MuiSelect-icon.Mui-disabled\": {\n      fill: \"rgba(255, 255, 255, 0.26)\"\n    }\n  }\n});\n\nfunction Room() {\n  const classes = useStyles();\n  const state = useLocation().state;\n  const { gameCode, pid, playerName } = state;\n  const [players, setPlayers] = useState([]);\n  const [ownerPid, setOwnerPid] = useState(\"\");\n  // const { gameCode } = state;\n  // const pid = 0;\n  // const [ownerPid, setOwnerPid] = useState(1);\n  // const [players, setPlayers] = useState(() => {\n  //   let tmp = [];\n  //   for (let i = 0; i < 8; ++i) {\n  //     tmp.push({\n  //       _id: i,\n  //       playerName: `Hurgurto${i}`\n  //     });\n  //   }\n\n  //   return tmp;\n  // });\n  const [rounds, setRounds] = useState(3);\n  const [drawTime, setDrawTime] = useState(60 + \"s\");\n  const { width } = useWindowSize();\n  const history = useHistory();\n\n  useEffect(() => {\n    sendEnterRoom(gameCode, pid, playerName);\n  }, []);\n\n  useEffect(() => {\n    socket.on(\"join_room_announcement\", data => {\n      console.log(data);\n      setPlayers(data.players);\n      setOwnerPid(data.ownerPid);\n      setRounds(data.rounds);\n      setDrawTime(data.drawTime.toString() + \"s\");\n    });\n\n    return () => {\n      socket.off(\"join_room_announcement\");\n    };\n  }, []);\n\n  useEffect(() => {\n    socket.on(\"rounds_announcement\", data => {\n      setRounds(data.rounds);\n    });\n\n    return () => {\n      socket.off(\"rounds_announcement\");\n    };\n  }, []);\n\n  useEffect(() => {\n    socket.on(\"draw_time_announcement\", data => {\n      setDrawTime(data.drawTime.toString() + \"s\");\n    });\n\n    return () => {\n      socket.off(\"draw_time_announcement\");\n    };\n  }, []);\n\n  useEffect(() => {\n    socket.on(\"play_game_announcement\", () => {\n      console.log(\"YO\");\n      history.push(`/game?gameCode=${gameCode}`, {\n        gameCode: gameCode,\n        pid: pid,\n        players: players,\n        ownerPid: ownerPid,\n        drawTime: parseInt(drawTime.slice(0, -1))\n      });\n    });\n\n    return () => {\n      socket.off(\"play_game_announcement\");\n    };\n  }, [gameCode, pid, players, ownerPid, drawTime, history]);\n\n  useEffect(() => {\n    socket.on(\"room_disconnect_announcement\", data => {\n      console.log(data);\n      setPlayers(data.players);\n      setOwnerPid(data.ownerPid);\n    });\n\n    return () => {\n      socket.off(\"room_disconnect_announcement\");\n    };\n  }, []);\n\n  return (\n    <div className=\"Room\">\n      <Link to=\"/\" className=\"RoomTitleLink\">\n        Pictionary Live\n      </Link>\n      <h2 className=\"RoomGameCode\">Game Code: {gameCode}</h2>\n      <div className=\"RoomMainContainer\">\n        <Panel className=\"RoomPlayersContainer\">\n          <h3 className=\"RoomContainerTitle\">Players</h3>\n          <div className=\"RoomPlayersList\">\n            {players.map(player => (\n              <div className=\"RoomPlayer\" key={player._id}>\n                <IconContext.Provider\n                  value={{\n                    size: width >= mediumDeviceMinWidth ? \"3rem\" : \"2rem\"\n                  }}\n                >\n                  {player._id === ownerPid ? <FaCrown /> : <MdPerson />}\n                </IconContext.Provider>\n                <span className=\"RoomPlayerName\">{player.playerName}</span>\n                <span className=\"RoomPlayerTag\">\n                  {player._id === pid ? \"You\" : \" \"}\n                </span>\n              </div>\n            ))}\n          </div>\n        </Panel>\n        <Panel className=\"RoomGameControlsContainer\">\n          <h3 className=\"RoomContainerTitle\">Settings</h3>\n          <FormControl\n            variant=\"outlined\"\n            className={classes.formControl}\n            disabled={pid !== ownerPid}\n          >\n            <InputLabel htmlFor=\"roundsSelector\">Rounds</InputLabel>\n            <Select\n              native\n              label=\"Rounds\"\n              value={rounds}\n              onChange={e => sendRounds(gameCode, e.target.value)}\n              inputProps={{ id: \"roundsSelector\" }}\n            >\n              <option>3</option>\n              <option>5</option>\n              <option>10</option>\n            </Select>\n          </FormControl>\n          <FormControl\n            variant=\"outlined\"\n            className={classes.formControl}\n            disabled={pid !== ownerPid}\n          >\n            <InputLabel htmlFor=\"drawTimeSelector\">Draw Time</InputLabel>\n            <Select\n              native\n              label=\"Draw Time\"\n              value={drawTime}\n              onChange={e => sendDrawTime(gameCode, e.target.value)}\n              inputProps={{ id: \"drawTime\" }}\n            >\n              <option>30s</option>\n              <option>60s</option>\n              <option>90s</option>\n            </Select>\n          </FormControl>\n          <button\n            type=\"button\"\n            className=\"Button RoomPlayButton\"\n            onClick={() => {\n              if (players.length > 1) {\n                sendPlayGame(gameCode);\n              }\n            }}\n            disabled={pid !== ownerPid || players.length <= 1}\n          >\n            Play\n          </button>\n        </Panel>\n      </div>\n    </div>\n  );\n}\n\nexport default Room;\n","import { socket } from \"../../utils/socket\";\n\nexport function sendEnterRoom(gameCode, pid, playerName) {\n  socket.emit(\"send_enter_room\", {\n    gameCode: gameCode,\n    pid: pid,\n    playerName: playerName\n  });\n}\n\nexport function sendPlayGame(gameCode) {\n  socket.emit(\"send_play_game\", {\n    gameCode: gameCode\n  });\n}\n\nexport function sendRounds(gameCode, rounds) {\n  console.log(rounds);\n  rounds = parseInt(rounds);\n  socket.emit(\"send_rounds\", {\n    gameCode: gameCode,\n    rounds: rounds\n  });\n}\n\nexport function sendDrawTime(gameCode, drawTime) {\n  drawTime = parseInt(drawTime.slice(0, -1));\n  socket.emit(\"send_draw_time\", {\n    gameCode: gameCode,\n    drawTime: drawTime\n  });\n}\n","import React from \"react\";\nimport { PropTypes } from \"prop-types\";\nimport { IconContext } from \"react-icons\";\nimport { MdPerson } from \"react-icons/md\";\nimport { FaCrown, FaPaintBrush } from \"react-icons/fa\";\nimport { useWindowSize } from \"../../../utils/hooks\";\nimport { mediumDeviceMinWidth } from \"../../../utils/const\";\nimport Panel from \"../../Panel/Panel\";\nimport \"./PlayersList.css\";\n\nfunction PlayerList(props) {\n  const {\n    players,\n    pid,\n    ownerPid,\n    artistPid,\n    guessedCorrectPids,\n    rankings\n  } = props;\n  const { width } = useWindowSize();\n\n  // let debugPlayers = [];\n  // for (let i = 0; i < 8; ++i) {\n  //   debugPlayers.push({\n  //     _id: i,\n  //     playerName: `Hurgurto${i}`,\n  //     score: 3000\n  //   });\n  // }\n\n  return (\n    <Panel className=\"PlayersList\">\n      {players.map(({ playerName, _id, score }, index) => (\n        <div\n          className=\"PlayersListPlayer\"\n          key={_id}\n          style={{\n            backgroundColor: guessedCorrectPids.hasOwnProperty(_id)\n              ? \"rgb(35, 231, 17)\"\n              : \"transparent\"\n          }}\n        >\n          <div className=\"PlayersListPlayerRankingIcon\">\n            <span className=\"PlayersListRanking\">#{rankings[index]}</span>\n            <IconContext.Provider\n              value={{\n                size: width >= mediumDeviceMinWidth ? \"1.8rem\" : \"1.5rem\"\n              }}\n            >\n              {_id === ownerPid ? <FaCrown /> : <MdPerson />}\n            </IconContext.Provider>\n            <IconContext.Provider\n              value={{\n                size: width >= mediumDeviceMinWidth ? \"1.5rem\" : \"1.2rem\"\n              }}\n            >\n              {_id === artistPid ? <FaPaintBrush /> : null}\n            </IconContext.Provider>\n          </div>\n          <span className=\"PlayersListPlayerName\">\n            {playerName}\n            {pid === _id ? \" (You)\" : null}: {score ? score : 0}\n          </span>\n        </div>\n      ))}\n    </Panel>\n  );\n}\n\nPlayerList.propTypes = {\n  players: PropTypes.arrayOf(PropTypes.object).isRequired,\n  pid: PropTypes.string.isRequired,\n  ownerPid: PropTypes.string.isRequired,\n  artistPid: PropTypes.string,\n  guessedCorrectPids: PropTypes.objectOf(PropTypes.bool).isRequired,\n  rankings: PropTypes.arrayOf(PropTypes.number).isRequired\n};\n\nPlayerList.defaultProps = {\n  artistPid: null\n};\n\nexport default PlayerList;\n","import React, { useState, useEffect, useRef } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { IconContext } from \"react-icons\";\nimport { IoMdUndo } from \"react-icons/io\";\nimport { FaTrash, FaPaintBrush, FaCheck } from \"react-icons/fa\";\nimport { GiPaintBucket } from \"react-icons/gi\";\nimport { socket } from \"../../../utils/socket\";\nimport {\n  sendDrawLine,\n  sendDrawDot,\n  sendDrawFill,\n  sendUndoCanvas,\n  sendClearCanvas\n} from \"./CanvasApiSocket\";\nimport Panel from \"../../Panel/Panel\";\nimport \"../../App/App.css\";\nimport \"./Canvas.css\";\n\nfunction Canvas(props) {\n  const { gameCode, pid, artist, selectedWord, currRound, timer } = props;\n  const [color, setColor] = useState(\"#000000\");\n  const [brushStyle, setBrushStyle] = useState(\"brush\");\n  const canvas = useRef(null);\n  let isMouseDragging = useRef(false);\n  let prevX = useRef(null);\n  let prevY = useRef(null);\n  const paths = useRef([]);\n  const colors = [\n    \"#000000\",\n    \"#FFFFFF\",\n    \"#808080\",\n    \"#C0C0C0\",\n    \"#FF0000\",\n    \"#FF7F00\",\n    \"#FFFF00\",\n    \"#00FF00\",\n    \"#00FFFF\",\n    \"#0000FF\",\n    \"#7F00FF\",\n    \"#FF00FF\"\n  ];\n  const controlsIconSize = \"5vmin\";\n\n  function touchStart(e) {\n    e.preventDefault();\n    mouseDown(e, true);\n  }\n\n  function mouseDown(e, isTouch = false) {\n    if (artist === null || pid !== artist._id) {\n      return;\n    }\n    isMouseDragging.current = true;\n    document.body.style.userSelect = \"none\";\n    window.getSelection().removeAllRanges();\n    if (isTouch) {\n      for (let i = 0; i < 1; ++i) {\n        draw(e, false, i);\n      }\n    } else {\n      draw(e, false, -1);\n    }\n  }\n\n  function touchMove(e) {\n    e.preventDefault();\n    mouseMove(e, true);\n  }\n\n  function mouseMove(e, isTouch = false) {\n    if (artist === null || pid !== artist._id || brushStyle === \"bucket\") {\n      return;\n    }\n    if (isMouseDragging.current) {\n      if (isTouch) {\n        for (let i = 0; i < 1; ++i) {\n          draw(e, true, i);\n        }\n      } else {\n        draw(e, true, -1);\n      }\n    }\n  }\n\n  function touchEnd(e) {\n    e.preventDefault();\n    mouseUp();\n  }\n\n  function mouseUp() {\n    if (artist === null || pid !== artist._id) {\n      return;\n    }\n    document.body.style.userSelect = \"auto\";\n    isMouseDragging.current = false;\n  }\n\n  function mouseLeave() {\n    prevX.current = null;\n    prevY.current = null;\n  }\n\n  function draw(e, isMouseMove, touchIndex) {\n    const { currX, currY } = getMousePos(e, touchIndex);\n    if (brushStyle === \"brush\") {\n      if (isMouseMove && prevX.current !== null && prevY.current !== null) {\n        const line = {\n          prevX: prevX.current,\n          prevY: prevY.current,\n          currX: currX,\n          currY: currY,\n          newColor: color\n        };\n        drawLine(line, true);\n        sendDrawLine(gameCode, line);\n      } else {\n        const dot = {\n          x: currX,\n          y: currY,\n          newColor: color\n        };\n        drawDot(dot, true);\n        sendDrawDot(gameCode, dot);\n      }\n      prevX.current = currX;\n      prevY.current = currY;\n    } else {\n      const fill = {\n        x: currX,\n        y: currY,\n        newColor: color\n      };\n      drawFill(fill, true);\n      sendDrawFill(gameCode, fill);\n    }\n  }\n\n  function getMousePos(e, touchIndex) {\n    const rect = canvas.current.getBoundingClientRect();\n    let windowX, windowY;\n    if (touchIndex !== -1) {\n      windowX = e.touches[touchIndex].clientX;\n      windowY = e.touches[touchIndex].clientY;\n    } else {\n      windowX = e.clientX;\n      windowY = e.clientY;\n    }\n    return {\n      currX:\n        ((windowX - rect.left) / (rect.right - rect.left)) *\n        canvas.current.width,\n      currY:\n        ((windowY - rect.top) / (rect.bottom - rect.top)) *\n        canvas.current.height\n    };\n  }\n\n  function drawLine(line, addPath) {\n    const { prevX, prevY, currX, currY, newColor } = line;\n    const ctx = canvas.current.getContext(\"2d\");\n    ctx.beginPath();\n    ctx.strokeStyle = newColor;\n    ctx.lineWidth = 2;\n    ctx.moveTo(prevX, prevY);\n    ctx.lineTo(currX, currY);\n    ctx.stroke();\n    ctx.closePath();\n    if (addPath) {\n      paths.current[paths.current.length - 1].points.push({\n        x: currX,\n        y: currY\n      });\n    }\n  }\n\n  function drawDot(dot, addPath) {\n    const { x, y, newColor } = dot;\n    const ctx = canvas.current.getContext(\"2d\");\n    ctx.beginPath();\n    ctx.fillStyle = newColor;\n    ctx.fillRect(x, y, 2, 2);\n    ctx.closePath();\n    if (addPath) {\n      paths.current.push({\n        points: [],\n        newColor: newColor,\n        brushStyle: \"brush\"\n      });\n      paths.current[paths.current.length - 1].points.push({ x: x, y: y });\n    }\n  }\n\n  function drawFill(fill, addPath) {\n    function getInitialColor(x, y, imageData) {\n      const baseIndex = (y * width + x) * 4;\n      const redOffset = 0;\n      const greenOffset = 1;\n      const blueOffset = 2;\n      const alphaOffset = 3;\n      return [\n        imageData.data[baseIndex + redOffset],\n        imageData.data[baseIndex + greenOffset],\n        imageData.data[baseIndex + blueOffset],\n        imageData.data[baseIndex + alphaOffset]\n      ];\n    }\n\n    function isInRange(x, y, width, height) {\n      return 0 <= x && x < width && 0 <= y && y < height;\n    }\n\n    function isEmpty(x, y, width, imageData, r, g, b, a) {\n      // 4 is used since each cell has rgba\n      const baseIndex = (y * width + x) * 4;\n      const redOffset = 0;\n      const greenOffset = 1;\n      const blueOffset = 2;\n      const alphaOffset = 3;\n      return (\n        imageData.data[baseIndex + redOffset] === r &&\n        imageData.data[baseIndex + greenOffset] === g &&\n        imageData.data[baseIndex + blueOffset] === b &&\n        imageData.data[baseIndex + alphaOffset] === a\n      );\n    }\n\n    let { x, y, newColor } = fill;\n    x = Math.floor(x);\n    y = Math.floor(y);\n    const ctx = canvas.current.getContext(\"2d\");\n    let { width, height } = canvas.current.getBoundingClientRect();\n    width = Math.floor(width);\n    height = Math.floor(height);\n\n    if (!isInRange(x, y, width, height)) {\n      return;\n    }\n\n    const imageData = ctx.getImageData(0, 0, width, height);\n    const [r, g, b, a] = getInitialColor(x, y, imageData);\n\n    const dirs = [\n      [0, -1],\n      [1, -1],\n      [1, 0],\n      [1, 1],\n      [0, 1],\n      [-1, 1],\n      [-1, 0],\n      [-1, -1]\n    ];\n    const visited = {};\n    visited[`${x}+${y}`] = 1;\n    let stack = [[x, y]];\n    ctx.beginPath();\n    ctx.fillStyle = newColor;\n    ctx.fillRect(x, y, 1, 1);\n\n    while (stack.length) {\n      const [x, y] = stack.pop();\n      for (const [dx, dy] of dirs) {\n        const newX = x + dx;\n        const newY = y + dy;\n        if (\n          isInRange(newX, newY, width, height) &&\n          isEmpty(newX, newY, width, imageData, r, g, b, a) &&\n          !visited.hasOwnProperty(`${newX}+${newY}`)\n        ) {\n          ctx.fillRect(newX, newY, 1, 1);\n          stack.push([newX, newY]);\n          visited[`${newX}+${newY}`] = 1;\n        }\n      }\n    }\n    ctx.closePath();\n\n    if (addPath) {\n      paths.current.push({\n        points: [],\n        newColor: newColor,\n        brushStyle: \"bucket\"\n      });\n      paths.current[paths.current.length - 1].points.push({ x: x, y: y });\n    }\n  }\n\n  function undoCanvas() {\n    if (paths.current.length) {\n      clearCanvas(false);\n      paths.current.pop();\n      for (let i = 0; i < paths.current.length; ++i) {\n        const { points, newColor, brushStyle } = paths.current[i];\n        if (brushStyle === \"brush\") {\n          const dot = {\n            x: points[0].x,\n            y: points[0].y,\n            newColor: newColor\n          };\n          drawDot(dot, false);\n          for (let j = 1; j < points.length; ++j) {\n            const line = {\n              prevX: points[j - 1].x,\n              prevY: points[j - 1].y,\n              currX: points[j].x,\n              currY: points[j].y\n            };\n            drawLine(line, false);\n          }\n        } else {\n          const fill = {\n            x: points[0].x,\n            y: points[0].y,\n            newColor: newColor\n          };\n          drawFill(fill, false);\n        }\n      }\n    }\n  }\n\n  function clearCanvas(clearPath) {\n    if (paths.current.length) {\n      const ctx = canvas.current.getContext(\"2d\");\n      ctx.clearRect(0, 0, canvas.current.width, canvas.current.height);\n      if (clearPath) {\n        paths.current = [];\n      }\n    }\n  }\n\n  function getUnderlinedWord(word) {\n    let underlinedWord = \"\";\n    for (let i = 0; i < word.length; ++i) {\n      if (word[i] === \" \") {\n        underlinedWord += \"  \";\n      } else {\n        underlinedWord += \"__\";\n      }\n      if (i + 1 !== word.length) {\n        underlinedWord += \"  \";\n      }\n    }\n    return underlinedWord;\n  }\n\n  useEffect(() => {\n    socket.on(\"draw_line_announcement\", data => {\n      if (canvas.current !== null) {\n        drawLine(data.line, true);\n      }\n    });\n\n    return () => {\n      socket.off(\"draw_line_announcement\");\n    };\n  }, []);\n\n  useEffect(() => {\n    socket.on(\"draw_dot_announcement\", data => {\n      if (canvas.current !== null) {\n        drawDot(data.dot, true);\n      }\n    });\n\n    return () => {\n      socket.off(\"draw_dot_announcement\");\n    };\n  }, []);\n\n  useEffect(() => {\n    socket.on(\"draw_fill_announcement\", data => {\n      if (canvas.current !== null) {\n        drawFill(data.fill, true);\n      }\n    });\n\n    return () => {\n      socket.off(\"draw_fill_announcement\");\n    };\n  }, []);\n\n  useEffect(() => {\n    socket.on(\"undo_canvas_announcement\", () => {\n      if (canvas.current !== null) {\n        undoCanvas();\n      }\n    });\n\n    return () => {\n      socket.off(\"undo_canvas_announcement\");\n    };\n  }, []);\n\n  useEffect(() => {\n    socket.on(\"clear_canvas_announcement\", () => {\n      if (canvas.current !== null) {\n        clearCanvas(true);\n      }\n    });\n\n    return () => {\n      socket.off(\"clear_canvas_announcement\");\n    };\n  }, []);\n\n  useEffect(() => {\n    if (selectedWord === null) {\n      clearCanvas(true);\n    }\n  }, [artist]);\n\n  return (\n    <Panel className=\"CanvasContainer\">\n      <div className=\"CanvasHeader\">\n        <span className=\"CanvasCurrRound\">Round: {currRound}</span>\n        <span className=\"CanvasUnderlinedWord\">\n          Word:{\" \"}\n          {artist !== null && pid !== artist._id && selectedWord !== null\n            ? getUnderlinedWord(selectedWord)\n            : selectedWord}\n        </span>\n        <span className=\"CanvasTimer\">Timer: {timer}s</span>\n      </div>\n      <canvas\n        className=\"Canvas\"\n        ref={canvas}\n        onTouchStart={touchStart}\n        onMouseDown={mouseDown}\n        onTouchMove={touchMove}\n        onMouseMove={mouseMove}\n        onTouchEnd={touchEnd}\n        onMouseUp={mouseUp}\n        onMouseLeave={mouseLeave}\n      />\n      <div className=\"CanvasDummy\" />\n      <div className=\"CanvasControlsContainer\">\n        <div className=\"CanvasColorsContainer\">\n          {colors.map(tmpColor => (\n            <button\n              key={tmpColor}\n              type=\"button\"\n              style={{\n                backgroundColor: tmpColor,\n                color:\n                  artist !== null && pid === artist._id && color === tmpColor\n                    ? tmpColor !== \"#FFFFFF\"\n                      ? \"white\"\n                      : \"black\"\n                    : tmpColor\n              }}\n              className=\"Button CanvasControl CanvasColorControl\"\n              disabled={artist !== null && pid !== artist._id}\n              onClick={() => {\n                setColor(tmpColor);\n              }}\n            >\n              <IconContext.Provider\n                value={{\n                  size: \"2.5vmin\"\n                }}\n              >\n                <FaCheck />\n              </IconContext.Provider>\n            </button>\n          ))}\n        </div>\n        <button\n          type=\"button\"\n          className=\"Button CanvasControl\"\n          style={{\n            backgroundColor:\n              artist !== null && pid === artist._id && brushStyle === \"brush\"\n                ? \"#f64f59\"\n                : \"#ffffff\"\n          }}\n          onClick={() => setBrushStyle(\"brush\")}\n        >\n          <IconContext.Provider\n            value={{\n              size: controlsIconSize\n            }}\n          >\n            <FaPaintBrush />\n          </IconContext.Provider>\n        </button>\n        <button\n          type=\"button\"\n          className=\"Button CanvasControl\"\n          style={{\n            backgroundColor:\n              artist !== null && pid === artist._id && brushStyle === \"bucket\"\n                ? \"#f64f59\"\n                : \"#ffffff\"\n          }}\n          onClick={() => setBrushStyle(\"bucket\")}\n        >\n          <IconContext.Provider\n            value={{\n              size: controlsIconSize\n            }}\n          >\n            <GiPaintBucket />\n          </IconContext.Provider>\n        </button>\n        <button\n          type=\"button\"\n          className=\"Button CanvasControl\"\n          onClick={() => {\n            if (paths.current.length && artist !== null && pid === artist._id) {\n              sendUndoCanvas(gameCode);\n            }\n          }}\n        >\n          <IconContext.Provider\n            value={{\n              size: controlsIconSize\n            }}\n          >\n            <IoMdUndo />\n          </IconContext.Provider>\n        </button>\n        <button\n          type=\"button\"\n          className=\"Button CanvasControl\"\n          onClick={() => {\n            if (paths.current.length && artist !== null && pid === artist._id) {\n              sendClearCanvas(gameCode);\n            }\n          }}\n        >\n          <IconContext.Provider\n            value={{\n              size: controlsIconSize\n            }}\n          >\n            <FaTrash />\n          </IconContext.Provider>\n        </button>\n        {artist === null || pid !== artist._id ? (\n          <div className=\"CanvasControlsOverlay\" />\n        ) : null}\n      </div>\n    </Panel>\n  );\n}\n\nCanvas.propTypes = {\n  gameCode: PropTypes.string.isRequired,\n  pid: PropTypes.string.isRequired,\n  artist: PropTypes.objectOf(PropTypes.string),\n  selectedWord: PropTypes.string,\n  currRound: PropTypes.number.isRequired,\n  timer: PropTypes.number.isRequired\n};\n\nCanvas.defaultProps = {\n  artist: null,\n  selectedWord: \"\"\n};\n\nexport default Canvas;\n","import { socket } from \"../../../utils/socket\";\n\nexport function sendDrawLine(gameCode, line) {\n  socket.emit(\"send_draw_line\", {\n    gameCode: gameCode,\n    line: line\n  });\n}\n\nexport function sendDrawDot(gameCode, dot) {\n  socket.emit(\"send_draw_dot\", {\n    gameCode: gameCode,\n    dot: dot\n  });\n}\n\nexport function sendDrawFill(gameCode, fill) {\n  socket.emit(\"send_draw_fill\", {\n    gameCode: gameCode,\n    fill: fill\n  });\n}\n\nexport function sendUndoCanvas(gameCode) {\n  socket.emit(\"send_undo_canvas\", {\n    gameCode: gameCode\n  });\n}\n\nexport function sendClearCanvas(gameCode) {\n  socket.emit(\"send_clear_canvas\", {\n    gameCode: gameCode\n  });\n}\n","import React, {\n  useState,\n  useEffect,\n  useRef,\n  forwardRef,\n  useImperativeHandle\n} from \"react\";\nimport PropTypes from \"prop-types\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { socket } from \"../../utils/socket\";\nimport { sendMessage } from \"./ChatRoomApiSocket\";\nimport Panel from \"../Panel/Panel\";\nimport TextField from \"../TextField/TextField\";\nimport \"./ChatRoom.css\";\n\nconst useStyles = makeStyles({\n  textField: {\n    margin: \"5px 0px\",\n    \"& .MuiOutlinedInput-root\": {\n      color: \"black\"\n    },\n    \"& input\": {\n      padding: \"7px\"\n    },\n    \"& label\": {\n      color: \"black\",\n      transform: \"translate(14px, 7px) scale(1)\"\n    },\n    \"& label.Mui-focused\": {\n      color: \"black\"\n    }\n  }\n});\n\nconst ChatRoom = forwardRef((props, ref) => {\n  const classes = useStyles();\n  const { gameCode, pid, addGuessedCorrectPid } = props;\n  const [message, setMessage] = useState(\"\");\n  // const [isFirstTime, setIsFirstTime] = useState(true);\n  const [messages, setMessages] = useState([]);\n  const messageArea = useRef(null);\n  const messageTextField = useRef(null);\n\n  useImperativeHandle(ref, () => ({\n    addMessage: addMessage\n  }));\n\n  function addMessage(message, status) {\n    let newMessage = {\n      message: message,\n      status: status\n    };\n    setMessages(messages => [...messages, newMessage]);\n    scroll();\n  }\n\n  function scroll() {\n    messageArea.current.scrollTop = messageArea.current.scrollHeight;\n    // if (isFirstTime) {\n    //   messageArea.current.scrollTop = messageArea.current.scrollHeight;\n    //   setIsFirstTime(false);\n    // } else if (\n    //   messageArea.current.scrollTop + messageArea.current.clientHeight ===\n    //   messageArea.current.scrollHeight\n    // ) {\n    //   messageArea.current.scrollTop = messageArea.current.scrollHeight;\n    // }\n  }\n\n  useEffect(() => {\n    socket.on(\"send_message_announcement\", data => {\n      let message = `${data.player.playerName}: ${data.message}`;\n      let status = \"\";\n      addMessage(message, status);\n    });\n\n    return () => {\n      socket.off(\"send_message_announcement\");\n    };\n  }, []);\n\n  useEffect(() => {\n    socket.on(\"correct_word_announcement\", data => {\n      let message = `${data.player.playerName} has guessed the word!`;\n      let status = \"Correct\";\n      addMessage(message, status);\n      addGuessedCorrectPid(data.player._id);\n    });\n\n    return () => {\n      socket.off(\"correct_word_announcement\");\n    };\n  }, [addGuessedCorrectPid]);\n\n  function onSendMessage() {\n    sendMessage(gameCode, pid, message);\n    setMessage(\"\");\n    messageTextField.current.focus();\n  }\n\n  function messageTextFieldOnKey(e) {\n    const ENTER_KEY_CODE = 13;\n    if (e.keyCode === ENTER_KEY_CODE && message !== \"\") {\n      onSendMessage();\n    }\n  }\n\n  return (\n    <Panel className=\"ChatRoom\" ref={ref}>\n      <div className=\"ChatRoomMessageArea\" ref={messageArea}>\n        {messages.map((message, index) => (\n          <p\n            // eslint-disable-next-line react/no-array-index-key\n            key={`msg${index}`}\n            className={`ChatRoomMessage ChatRoomMessage${message.status}`}\n          >\n            {message.message}\n          </p>\n        ))}\n      </div>\n      <TextField\n        className={`${classes.textField} ChatRoomTextField`}\n        label=\"message\"\n        variant=\"outlined\"\n        value={message}\n        onChange={e => setMessage(e.target.value)}\n        inputRef={messageTextField}\n        onKeyDown={e => messageTextFieldOnKey(e)}\n      />\n    </Panel>\n  );\n});\n\nChatRoom.displayName = \"ChatRoom\";\n\nChatRoom.propTypes = {\n  gameCode: PropTypes.string.isRequired,\n  pid: PropTypes.string.isRequired,\n  addGuessedCorrectPid: PropTypes.func.isRequired\n};\n\nexport default ChatRoom;\n","import { socket } from \"../../utils/socket\";\n\nexport function sendMessage(gameCode, pid, message) {\n  socket.emit(\"send_message\", {\n    gameCode: gameCode,\n    pid: pid,\n    message: message\n  });\n}\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { sendSelectedWord } from \"./OverlayApiSocket\";\nimport Panel from \"../../Panel/Panel\";\nimport \"../../App/App.css\";\nimport \"./Overlay.css\";\n\nfunction Overlay(props) {\n  const {\n    gameCode,\n    pid,\n    artist,\n    words,\n    endTurnData,\n    endGameData,\n    onBackRoom\n  } = props;\n\n  function getResults() {\n    // let results = {\n    //   players: []\n    // };\n    // for (let i = 0; i < 8; ++i) {\n    //   results.players.push({\n    //     _id: i,\n    //     playerName: `Hurgurto${i}`,\n    //     score: 3000\n    //   });\n    // }\n    return (\n      <div className=\"OverlayEndTurnResultsContainer\">\n        {endGameData.players.map((player, index) => (\n          <p key={player._id} className=\"OverlayEndTurnResultsText\">\n            #{endGameData.rankings[index]} {player.playerName}: {player.score}\n          </p>\n        ))}\n        <button\n          type=\"button\"\n          className=\"Button OverlayEndTurnResultsButton\"\n          onClick={onBackRoom}\n        >\n          Back to Room\n        </button>\n      </div>\n    );\n  }\n\n  function getEndTurn() {\n    // let selectedWord = \"Hello\";\n    // let endTurnData = {\n    //   players: [],\n    //   isEndGame: false\n    // };\n    // for (let i = 0; i < 8; ++i) {\n    //   endTurnData.players.push({\n    //     _id: i,\n    //     playerName: `Hurgurto${i}`,\n    //     score: 3000,\n    //     earnedScore: 5000\n    //   });\n    // }\n    return (\n      <div className=\"OverlayEndTurnResultsContainer\">\n        <p className=\"OverlayEndTurnResultsText\">\n          Selected Word: {endTurnData.selectedWord}\n        </p>\n        {endTurnData.players.map(player => (\n          <p key={player._id} className=\"OverlayEndTurnResultsText\">\n            {player.playerName}: {player.score} + {player.earnedScore}\n          </p>\n        ))}\n        {/* {endTurnData.isEndGame ? (\n          <button\n            type=\"button\"\n            className=\"Button OverlayEndTurnResultsButton\"\n            onClick={onShowResults}\n          >\n            Results\n          </button>\n        ) : null} */}\n      </div>\n    );\n  }\n\n  function getLoading() {\n    return <p>Loading...</p>;\n  }\n\n  function getArtistChoosing() {\n    return <p>{artist.playerName} is choosing their word...</p>;\n  }\n\n  function getWords() {\n    // let words = [\"computer\", \"hello\", \"world\"];\n    return (\n      <>\n        {words.map(word => (\n          <button\n            type=\"button\"\n            key={word}\n            className=\"Button OverlayWordButton\"\n            onClick={() => sendSelectedWord(gameCode, word)}\n          >\n            {word}\n          </button>\n        ))}\n      </>\n    );\n  }\n\n  function selectOverlayContent() {\n    if (endGameData !== null) {\n      return getResults();\n    }\n    if (endTurnData !== null) {\n      return getEndTurn();\n    }\n    if (artist === null) {\n      return getLoading();\n    }\n    if (pid !== artist._id) {\n      return getArtistChoosing();\n    }\n    return getWords();\n  }\n\n  return <Panel className=\"Overlay\">{selectOverlayContent()}</Panel>;\n  // return <Panel className=\"Overlay\">{getResults()}</Panel>;\n}\n\nOverlay.propTypes = {\n  gameCode: PropTypes.string.isRequired,\n  pid: PropTypes.string.isRequired,\n  artist: PropTypes.objectOf(PropTypes.string),\n  words: PropTypes.arrayOf(PropTypes.string).isRequired,\n  endTurnData: PropTypes.objectOf(\n    PropTypes.oneOfType([PropTypes.array, PropTypes.string])\n  ),\n  endGameData: PropTypes.objectOf(PropTypes.oneOfType([PropTypes.array])),\n  onBackRoom: PropTypes.func.isRequired\n};\n\nOverlay.defaultProps = {\n  artist: null,\n  endTurnData: null,\n  endGameData: null\n};\n\nexport default Overlay;\n","import { socket } from \"../../../utils/socket\";\n\nexport function sendSelectedWord(gameCode, word) {\n  socket.emit(\"send_selected_word\", {\n    gameCode: gameCode,\n    word: word\n  });\n}\n","import React, { useState, useEffect, useRef } from \"react\";\nimport { Link, useHistory, useLocation } from \"react-router-dom\";\nimport { socket } from \"../../utils/socket\";\nimport { sendEnterGame } from \"./GameApiSocket\";\nimport { sendJoinGame } from \"../Home/HomeApiSocket\";\nimport PlayersList from \"./PlayersList/PlayersList\";\nimport Canvas from \"./Canvas/Canvas\";\nimport ChatRoom from \"../ChatRoom/ChatRoom\";\nimport Overlay from \"./Overlay/Overlay\";\nimport \"./Game.css\";\n\nfunction Game() {\n  const state = useLocation().state;\n  const { gameCode, pid, drawTime } = state;\n  const [players, setPlayers] = useState(state.players);\n  const [ownerPid, setOwnerPid] = useState(state.ownerPid);\n  const [artist, setArtist] = useState(null);\n  const [isDrawing, setIsDrawing] = useState(false);\n  const [words, setWords] = useState([]);\n  const [timer, setTimer] = useState(drawTime);\n  const [rankings, setRankings] = useState(new Array(players.length).fill(1));\n  const [endTurnData, setEndTurnData] = useState(null);\n  const [guessedCorrectPids, setGuessedCorrectPids] = useState({});\n  const [endGameData, setEndGameData] = useState(null);\n  const [selectedWord, setSelectedWord] = useState(null);\n  const [currRound, setCurrRound] = useState(1);\n  const chatRoomRef = useRef(null);\n  let history = useHistory();\n\n  function onBackRoom() {\n    function getPlayerName() {\n      for (const player of players) {\n        if (player._id === pid) {\n          return player.playerName;\n        }\n      }\n      return null;\n    }\n    sendJoinGame(gameCode, pid, getPlayerName(), history);\n  }\n\n  function updatePlayersScore(players) {\n    setPlayers(\n      players.map(player => {\n        player.score = player.score + player.earnedScore;\n        return player;\n      })\n    );\n  }\n\n  function addGuessedCorrectPid(pid) {\n    setGuessedCorrectPids(guessedCorrectPids => {\n      guessedCorrectPids[pid] = true;\n      return guessedCorrectPids;\n    });\n  }\n\n  useEffect(() => {\n    sendEnterGame(gameCode);\n  }, []);\n\n  useEffect(() => {\n    socket.on(\"next_artist_announcement\", data => {\n      console.log(\"got next artist\");\n      console.log(data);\n      updatePlayersScore(data.players);\n      setRankings(data.rankings);\n      setEndTurnData(null);\n      setSelectedWord(null);\n      setArtist(data.artist);\n      setWords(data.words);\n      setGuessedCorrectPids({});\n      setCurrRound(data.currRound);\n    });\n\n    return () => {\n      socket.off(\"next_artist_announcement\");\n    };\n  }, []);\n\n  useEffect(() => {\n    socket.on(\"selected_word_announcement\", data => {\n      setIsDrawing(true);\n      setSelectedWord(data.selectedWord);\n    });\n\n    return () => {\n      socket.off(\"selected_word_announcement\");\n    };\n  }, []);\n\n  useEffect(() => {\n    socket.on(\"timer_announcement\", data => {\n      setTimer(data.time);\n    });\n\n    return () => {\n      socket.off(\"timer_announcement\");\n    };\n  }, []);\n\n  useEffect(() => {\n    socket.on(\"end_turn_announcement\", data => {\n      setEndTurnData(data);\n      setIsDrawing(false);\n    });\n\n    return () => {\n      socket.off(\"end_turn_announcement\");\n    };\n  }, []);\n\n  useEffect(() => {\n    socket.on(\"end_game_announcement\", data => {\n      setEndGameData(data);\n    });\n\n    return () => {\n      socket.off(\"end_game_announcement\");\n    };\n  }, []);\n\n  useEffect(() => {\n    socket.on(\"game_disconnect_announcement\", data => {\n      setPlayers(data.players);\n      setRankings(data.rankings);\n      setOwnerPid(data.ownerPid);\n      let message = `${data.playerName} has disconnected`;\n      let status = \"Disconnected\";\n      chatRoomRef.current.addMessage(message, status);\n    });\n\n    return () => {\n      socket.off(\"game_disconnect_announcement\");\n    };\n  }, [chatRoomRef]);\n\n  return (\n    <div className=\"Game\">\n      <Link to=\"/\" className=\"GameTitleLink\">\n        Pictionary Live\n      </Link>\n      <h2 className=\"GameGameCode\">Game Code: {gameCode}</h2>\n      <div className=\"GamePlayContainer\">\n        <div className=\"GameDummyPlayer\" />\n        <div className=\"GameCanvasOverlayContainer\">\n          <Canvas\n            gameCode={gameCode}\n            pid={pid}\n            artist={artist}\n            selectedWord={selectedWord}\n            currRound={currRound}\n            timer={timer}\n          />\n          {!isDrawing ? (\n            <Overlay\n              gameCode={gameCode}\n              pid={pid}\n              artist={artist}\n              words={words}\n              endTurnData={endTurnData}\n              endGameData={endGameData}\n              onBackRoom={onBackRoom}\n            />\n          ) : null}\n        </div>\n        <div className=\"GameDummyChat\" />\n        <div className=\"GamePlayersChatContainer\">\n          <PlayersList\n            players={players}\n            pid={pid}\n            ownerPid={ownerPid}\n            artistPid={artist !== null ? artist._id : null}\n            guessedCorrectPids={guessedCorrectPids}\n            rankings={rankings}\n          />\n          <ChatRoom\n            gameCode={gameCode}\n            pid={pid}\n            addGuessedCorrectPid={addGuessedCorrectPid}\n            ref={chatRoomRef}\n          />\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Game;\n","import { socket } from \"../../utils/socket\";\n\nexport function sendEnterGame(gameCode) {\n  socket.emit(\"send_enter_game\", {\n    gameCode: gameCode\n  });\n}\n","import React from \"react\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport Home from \"../Home/Home\";\nimport Room from \"../Room/Room\";\nimport Game from \"../Game/Game\";\nimport { useWindowSize } from \"../../utils/hooks\";\nimport \"prevent-pull-refresh\";\nimport \"./App.css\";\n\nfunction App() {\n  const { height } = useWindowSize();\n\n  return (\n    <Router>\n      <div className=\"App\" style={{ height: height }}>\n        <Switch>\n          <Route exact path=\"/\">\n            <Home />\n          </Route>\n          <Route path=\"/room\">\n            <Room />\n          </Route>\n          <Route path=\"/game\">\n            <Game />\n          </Route>\n        </Switch>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport \"animate.css/animate.min.css\";\nimport App from \"./components/App/App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport \"./index.css\";\n\nlet root = document.getElementById(\"root\");\n// root.style.height = window.innerHeight;\nReactDOM.render(<App />, root);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}