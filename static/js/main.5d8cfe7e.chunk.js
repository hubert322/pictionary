(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{146:function(e,n){},149:function(e,n,t){},150:function(e,n,t){},155:function(e,n,t){},156:function(e,n,t){},157:function(e,n,t){},158:function(e,n,t){},159:function(e,n,t){},160:function(e,n,t){},162:function(e,n,t){},163:function(e,n,t){"use strict";t.r(n);var a=t(1),r=t.n(a),o=t(11),c=t.n(o),l=(t(100),t(101),t(24)),u=t(26),i=t(7),s=t(54),m=t.n(s),d=t(81),f=t(82),v=t.n(f),p=t(83),b="https://skribbl-remake.herokuapp.com/",g=768,h=t.n(p)()(b,{transports:["websocket"]});function C(e,n,t,a){h.emit("send_join_room",{gameCode:e,pid:n,playerName:t}),h.on("join_room_success",function(t){h.off("join_room_success"),y(e,n,a)}),h.on("join_room_error",function(e){h.off("join_room_error"),console.log("join room error")})}function E(){return(E=Object(d.a)(m.a.mark(function e(){var n,t;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null==(n=localStorage.getItem("pid"))){e.next=3;break}return e.abrupt("return",Promise.resolve(n));case 3:return e.prev=3,e.next=6,v.a.post(b+"/api/player/new");case 6:return t=e.sent,console.log(t.data),n=t.data.pid,localStorage.setItem("pid",n),e.abrupt("return",n);case 13:return e.prev=13,e.t0=e.catch(3),console.log(e.t0.response),e.abrupt("return","");case 17:case"end":return e.stop()}},e,null,[[3,13]])}))).apply(this,arguments)}function y(e,n,t){h.on("join_room_announcement",function(a){h.off("join_room_announcement"),a.gameCode=e,a.pid=n,t.push("/room?gameCode=".concat(e),a)})}function O(){var e=Object(a.useState)({width:window.innerWidth,height:window.innerHeight}),n=Object(i.a)(e,2),t=n[0],r=n[1];return Object(a.useLayoutEffect)(function(){function e(){r({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),t}t(34),t(149),t(150);function _(e){var n=e.children,t=e.className;return r.a.createElement("div",{className:"Panel ".concat(t)},n)}_.defaultProps={children:[],className:""};var w=_,j=t(203),N=t(193),P=Object(N.a)({textField:{margin:"7px","& .MuiOutlinedInput-root .MuiOutlinedInput-notchedOutline":{borderColor:"#f64f59"},"&:hover .MuiOutlinedInput-root .MuiOutlinedInput-notchedOutline":{borderColor:"#c471ed"},"& .MuiOutlinedInput-root.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#12c2e9"},"& .MuiOutlinedInput-root":{color:"white"},"& label":{color:"white"},"& label.Mui-focused":{color:"white"}}});function R(e){var n=P(),t=e.label,a=e.variant,o=e.value,c=e.onChange,l=e.error,u=e.inputRef,i=e.onKeyDown,s=e.className;return r.a.createElement(j.a,{label:t,variant:a,value:o,onChange:c,error:l,inputRef:u,onKeyDown:i,className:"".concat(n.textField," ").concat(s)})}R.defaultProps={label:null,variant:"standard",value:null,onChange:null,error:null,inputRef:null,onKeyDown:null,className:""};var k=R;var S=function(){var e=Object(a.useState)(""),n=Object(i.a)(e,2),t=n[0],o=n[1],c=function(e,n){var t=Object(a.useState)(localStorage.getItem(e)||n),r=Object(i.a)(t,2),o=r[0],c=r[1];return Object(a.useEffect)(function(){localStorage.setItem(e,o)},[o]),[o,c]}("playerName",""),s=Object(i.a)(c,2),m=s[0],d=s[1],f=Object(a.useState)("Name"),v=Object(i.a)(f,2),p=v[0],b=v[1],g=Object(a.useState)(!1),O=Object(i.a)(g,2),_=O[0],j=O[1],N=Object(a.useState)("Game Code"),P=Object(i.a)(N,2),R=P[0],S=P[1],x=Object(a.useState)(!1),M=Object(i.a)(x,2),F=M[0],T=M[1],I=Object(a.useRef)(null),G=Object(u.f)();return Object(a.useEffect)(function(){(function(){return E.apply(this,arguments)})().then(function(e){I.current=e})},[]),r.a.createElement("div",{className:"Home"},r.a.createElement(l.b,{to:"/",className:"HomeTitle"},"Pictionary Live"),r.a.createElement(w,{className:"HomeMainContainer"},r.a.createElement(k,{label:p,variant:"outlined",value:m,onChange:function(e){return d(e.target.value)},error:_}),r.a.createElement("div",{className:"HomeJoinGameContainer"},r.a.createElement(k,{label:R,variant:"outlined",className:"HomeJoinGameTextField",value:t,onChange:function(e){return o(e.target.value)},error:F}),r.a.createElement("button",{type:"button",className:"Button HomeJoinGameButton",onClick:function(){""===t||""===m?(""===t&&(T(!0),S("Game Code required")),""===m&&(j(!0),b("Name required"))):"string"!==typeof I.current?console.log("Waiting for promise to resolve..."):C(t,I.current,m,G)}},"Join Game")),r.a.createElement("button",{type:"button",className:"Button HomeNewGameButton",onClick:function(){""===m?(j(!0),b("Name required")):"string"!==typeof I.current?console.log("Waiting for promise to resolve..."):function(e,n,t){h.emit("send_new_room",{pid:e,playerName:n}),h.on("new_room_success",function(n){h.off("new_room_success"),y(n.gameCode,e,t)}),h.on("new_room_error",function(e){console.log("new room error"),console.log(e),h.off("new_room_error")})}(I.current,m,G)}},"New Game")))},x=t(201),M=t(200),F=t(198),T=t(0),I=t(44),G=t(22);t(155);var B=Object(N.a)({formControl:{margin:"0px 7px","& .MuiOutlinedInput-root .MuiOutlinedInput-notchedOutline":{borderColor:"#f64f59"},"&:hover .MuiOutlinedInput-root .MuiOutlinedInput-notchedOutline":{borderColor:"#c471ed"},"& .MuiOutlinedInput-root.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#12c2e9"},"& .MuiOutlinedInput-root.Mui-disabled .MuiOutlinedInput-notchedOutline":{borderColor:"rgba(255, 255, 255, 0.38)"},"& .Mui-disabled":{cursor:"not-allowed"},"& .MuiOutlinedInput-root":{color:"white"},"& .MuiOutlinedInput-root.Mui-disabled":{color:"rgba(255, 255, 255, 0.38)"},"& label":{color:"white"},"& label.Mui-focused":{color:"white"},"& label.Mui-disabled":{color:"rgba(255, 255, 255, 0.54)"},"& option":{color:"black"},"& .MuiSelect-icon":{fill:"white"},"& .MuiSelect-icon.Mui-disabled":{fill:"rgba(255, 255, 255, 0.26)"}}});var W=function(){var e=B(),n=Object(u.g)().state,t=n.gameCode,o=n.pid,c=Object(a.useState)(n.players),s=Object(i.a)(c,2),m=s[0],d=s[1],f=Object(a.useState)(n.ownerPid),v=Object(i.a)(f,2),p=v[0],b=v[1],C=Object(a.useState)(3),E=Object(i.a)(C,2),y=E[0],_=E[1],j=Object(a.useState)("60s"),N=Object(i.a)(j,2),P=N[0],R=N[1],k=O().width,S=Object(u.f)();return Object(a.useEffect)(function(){return h.on("join_room_announcement",function(e){d(e.players),b(p)}),function(){h.off("join_room_announcement")}},[]),Object(a.useEffect)(function(){return h.on("play_game_announcement",function(){S.push("/game?gameCode=".concat(t),{gameCode:t,pid:o,players:m,ownerPid:p,drawTime:parseInt(P.slice(0,-1))})}),function(){h.off("play_game_announcement")}},[t,o,m,S]),r.a.createElement("div",{className:"Room"},r.a.createElement(l.b,{to:"/",className:"RoomTitleLink"},"Pictionary Live"),r.a.createElement("h2",{className:"RoomGameCode"},"Game Code: ",t),r.a.createElement("div",{className:"RoomMainContainer"},r.a.createElement(w,{className:"RoomPlayersContainer"},r.a.createElement("h3",{className:"RoomContainerTitle"},"Players"),r.a.createElement("div",{className:"RoomPlayersList"},m.map(function(e){return r.a.createElement("div",{className:"RoomPlayer",key:e._id},r.a.createElement(T.b.Provider,{value:{size:k>=g?"3rem":"2rem"}},e._id===p?r.a.createElement(G.b,null):r.a.createElement(I.a,null)),r.a.createElement("span",{className:"RoomPlayerName"},e.playerName),r.a.createElement("span",{className:"RoomPlayerTag"},e._id===o?"You":" "))}))),r.a.createElement(w,{className:"RoomGameControlsContainer"},r.a.createElement("h3",{className:"RoomContainerTitle"},"Settings"),r.a.createElement(x.a,{variant:"outlined",className:e.formControl,disabled:o!==p},r.a.createElement(M.a,{htmlFor:"roundsSelector"},"Rounds"),r.a.createElement(F.a,{native:!0,label:"Rounds",value:y,onChange:function(e){return _(e.target.value)},inputProps:{id:"roundsSelector"}},r.a.createElement("option",null,"3"),r.a.createElement("option",null,"5"),r.a.createElement("option",null,"10"))),r.a.createElement(x.a,{variant:"outlined",className:e.formControl,disabled:o!==p},r.a.createElement(M.a,{htmlFor:"roundsSelector"},"Draw Time"),r.a.createElement(F.a,{native:!0,label:"Rounds",value:P,onChange:function(e){return R(e.target.value)},inputProps:{id:"drawTime"}},r.a.createElement("option",null,"30s"),r.a.createElement("option",null,"60s"),r.a.createElement("option",null,"90s"))),r.a.createElement("button",{type:"button",className:"Button RoomPlayButton",onClick:function(){if(m.length>1){var e=parseInt(P.slice(0,-1));!function(e,n,t){h.emit("send_play_game",{gameCode:e,rounds:n,drawTime:t})}(t,y,e)}},disabled:o!==p||m.length<=1},"Play"))))};t(156);function L(e){var n=e.players,t=e.pid,a=e.ownerPid,o=e.artistPid,c=e.guessedCorrectPid,l=e.rankings,u=O().width;return r.a.createElement(w,{className:"PlayersList"},n.map(function(e,n){var i=e.playerName,s=e._id,m=e.score;return r.a.createElement("div",{className:"PlayersListPlayer",key:s,style:{backgroundColor:s===c?"rgb(35, 231, 17)":"transparent"}},r.a.createElement("div",{className:"PlayersListPlayerRankingIcon"},r.a.createElement("span",{className:"PlayersListRanking"},"#",l[n]),r.a.createElement(T.b.Provider,{value:{size:u>=g?"1.8rem":"1.5rem"}},s===a?r.a.createElement(G.b,null):r.a.createElement(I.a,null)),r.a.createElement(T.b.Provider,{value:{size:u>=g?"1.5rem":"1.2rem"}},s===o?r.a.createElement(G.c,null):null)),r.a.createElement("span",{className:"PlayersListPlayerName"},i,t===s?" (You)":null,": ",m||0))}))}L.defaultProps={artistPid:null,guessedCorrectPid:null};var D=L,Y=t(90),H=t(89);t(157);function z(e){var n=e.gameCode,t=e.pid,o=e.artist,c=e.selectedWord,l=e.currRound,u=e.timer,s=Object(a.useState)("#000000"),m=Object(i.a)(s,2),d=m[0],f=m[1],v=Object(a.useState)("brush"),p=Object(i.a)(v,2),b=p[0],g=p[1],C=Object(a.useRef)(null),E=Object(a.useRef)(!1),y=Object(a.useRef)(null),O=Object(a.useRef)(null),_=Object(a.useRef)([]);function j(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null!==o&&t===o._id)if(E.current=!0,document.body.style.userSelect="none",window.getSelection().removeAllRanges(),n)for(var a=0;a<1;++a)R(e,!1,a);else R(e,!1,-1)}function N(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null!==o&&t===o._id&&"bucket"!==b&&E.current)if(n)for(var a=0;a<1;++a)R(e,!0,a);else R(e,!0,-1)}function P(){null!==o&&t===o._id&&(document.body.style.userSelect="auto",E.current=!1)}function R(e,t,a){var r=function(e,n){var t,a,r=C.current.getBoundingClientRect();-1!==n?(t=e.touches[n].clientX,a=e.touches[n].clientY):(t=e.clientX,a=e.clientY);return{currX:(t-r.left)/(r.right-r.left)*C.current.width,currY:(a-r.top)/(r.bottom-r.top)*C.current.height}}(e,a),o=r.currX,c=r.currY;if("brush"===b){if(t&&null!==y.current&&null!==O.current){var l={prevX:y.current,prevY:O.current,currX:o,currY:c,newColor:d};k(l,!0),function(e,n){h.emit("send_draw_line",{gameCode:e,line:n})}(n,l)}else{var u={x:o,y:c,newColor:d};S(u,!0),function(e,n){h.emit("send_draw_dot",{gameCode:e,dot:n})}(n,u)}y.current=o,O.current=c}else{var i={x:o,y:c,newColor:d};x(i,!0),function(e,n){h.emit("send_draw_fill",{gameCode:e,fill:n})}(n,i)}}function k(e,n){var t=e.prevX,a=e.prevY,r=e.currX,o=e.currY,c=e.newColor,l=C.current.getContext("2d");l.beginPath(),l.strokeStyle=c,l.lineWidth=2,l.moveTo(t,a),l.lineTo(r,o),l.stroke(),l.closePath(),n&&_.current[_.current.length-1].points.push({x:r,y:o})}function S(e,n){var t=e.x,a=e.y,r=e.newColor,o=C.current.getContext("2d");o.beginPath(),o.fillStyle=r,o.fillRect(t,a,2,2),o.closePath(),n&&(_.current.push({points:[],newColor:r,brushStyle:"brush"}),_.current[_.current.length-1].points.push({x:t,y:a}))}function x(e,n){function t(e,n,t,a){return 0<=e&&e<t&&0<=n&&n<a}function a(e,n,t,a,r,o,c,l){var u=4*(n*t+e);return a.data[u+0]===r&&a.data[u+1]===o&&a.data[u+2]===c&&a.data[u+3]===l}var r=e.x,o=e.y,c=e.newColor;r=Math.floor(r),o=Math.floor(o);var l=C.current.getContext("2d"),u=C.current.getBoundingClientRect(),s=u.width,m=u.height;if(s=Math.floor(s),m=Math.floor(m),t(r,o,s,m)){var d=l.getImageData(0,0,s,m),f=function(e,n,t){var a=4*(n*s+e);return[t.data[a+0],t.data[a+1],t.data[a+2],t.data[a+3]]}(r,o,d),v=Object(i.a)(f,4),p=v[0],b=v[1],g=v[2],h=v[3],E=[[0,-1],[1,-1],[1,0],[1,1],[0,1],[-1,1],[-1,0],[-1,-1]],y={};y["".concat(r,"+").concat(o)]=1;var O=[[r,o]];for(l.beginPath(),l.fillStyle=c,l.fillRect(r,o,1,1);O.length;)for(var w=O.pop(),j=Object(i.a)(w,2),N=j[0],P=j[1],R=0,k=E;R<k.length;R++){var S=k[R],x=Object(i.a)(S,2),M=N+x[0],F=P+x[1];t(M,F,s,m)&&a(M,F,s,d,p,b,g,h)&&!y.hasOwnProperty("".concat(M,"+").concat(F))&&(l.fillRect(M,F,1,1),O.push([M,F]),y["".concat(M,"+").concat(F)]=1)}l.closePath(),n&&(_.current.push({points:[],newColor:c,brushStyle:"bucket"}),_.current[_.current.length-1].points.push({x:r,y:o}))}}function M(e){_.current.length&&(C.current.getContext("2d").clearRect(0,0,C.current.width,C.current.height),e&&(_.current=[]))}return Object(a.useEffect)(function(){return h.on("draw_line_announcement",function(e){null!==C.current&&k(e.line,!0)}),function(){h.off("draw_line_announcement")}},[]),Object(a.useEffect)(function(){return h.on("draw_dot_announcement",function(e){null!==C.current&&S(e.dot,!0)}),function(){h.off("draw_dot_announcement")}},[]),Object(a.useEffect)(function(){return h.on("draw_fill_announcement",function(e){null!==C.current&&x(e.fill,!0)}),function(){h.off("draw_fill_announcement")}},[]),Object(a.useEffect)(function(){return h.on("undo_canvas_announcement",function(){null!==C.current&&function(){if(_.current.length){M(!1),_.current.pop();for(var e=0;e<_.current.length;++e){var n=_.current[e],t=n.points,a=n.newColor;if("brush"===n.brushStyle){S({x:t[0].x,y:t[0].y,newColor:a},!1);for(var r=1;r<t.length;++r)k({prevX:t[r-1].x,prevY:t[r-1].y,currX:t[r].x,currY:t[r].y},!1)}else x({x:t[0].x,y:t[0].y,newColor:a},!1)}}}()}),function(){h.off("undo_canvas_announcement")}},[]),Object(a.useEffect)(function(){return h.on("clear_canvas_announcement",function(){null!==C.current&&M(!0)}),function(){h.off("clear_canvas_announcement")}},[]),Object(a.useEffect)(function(){null===c&&M(!0)},[o]),r.a.createElement(w,{className:"CanvasContainer"},r.a.createElement("div",{className:"CanvasHeader"},r.a.createElement("span",{className:"CanvasCurrRound"},"Round: ",l),r.a.createElement("span",{className:"CanvasUnderlinedWord"},"Word:"," ",null!==o&&t!==o._id&&null!==c?function(e){for(var n="",t=0;t<e.length;++t)" "===e[t]?n+="  ":n+="__",t+1!==e.length&&(n+="  ");return n}(c):c),r.a.createElement("span",{className:"CanvasTimer"},"Timer: ",u,"s")),r.a.createElement("canvas",{className:"Canvas",ref:C,onTouchStart:function(e){e.preventDefault(),j(e,!0)},onMouseDown:j,onTouchMove:function(e){e.preventDefault(),N(e,!0)},onMouseMove:N,onTouchEnd:function(e){e.preventDefault(),P()},onMouseUp:P,onMouseLeave:function(){y.current=null,O.current=null}}),r.a.createElement("div",{className:"CanvasDummy"}),r.a.createElement("div",{className:"CanvasControlsContainer"},r.a.createElement("div",{className:"CanvasColorsContainer"},["#000000","#FFFFFF","#808080","#C0C0C0","#FF0000","#FF7F00","#FFFF00","#00FF00","#00FFFF","#0000FF","#7F00FF","#FF00FF"].map(function(e){return r.a.createElement("button",{key:e,type:"button",style:{backgroundColor:e,color:null!==o&&t===o._id&&d===e?"#ffffff"!==e?"white":"black":e},className:"Button CanvasControl CanvasColorControl",disabled:null!==o&&t!==o._id,onClick:function(){f(e)}},r.a.createElement(T.b.Provider,{value:{size:"2.5vmin"}},r.a.createElement(G.a,null)))})),r.a.createElement("button",{type:"button",className:"Button CanvasControl",style:{backgroundColor:null!==o&&t===o._id&&"brush"===b?"#f64f59":"#ffffff"},onClick:function(){return g("brush")}},r.a.createElement(T.b.Provider,{value:{size:"5vmin"}},r.a.createElement(G.c,null))),r.a.createElement("button",{type:"button",className:"Button CanvasControl",style:{backgroundColor:null!==o&&t===o._id&&"bucket"===b?"#f64f59":"#ffffff"},onClick:function(){return g("bucket")}},r.a.createElement(T.b.Provider,{value:{size:"5vmin"}},r.a.createElement(H.a,null))),r.a.createElement("button",{type:"button",className:"Button CanvasControl",onClick:function(){_.current.length&&null!==o&&t===o._id&&function(e){h.emit("send_undo_canvas",{gameCode:e})}(n)}},r.a.createElement(T.b.Provider,{value:{size:"5vmin"}},r.a.createElement(Y.a,null))),r.a.createElement("button",{type:"button",className:"Button CanvasControl",onClick:function(){_.current.length&&null!==o&&t===o._id&&function(e){h.emit("send_clear_canvas",{gameCode:e})}(n)}},r.a.createElement(T.b.Provider,{value:{size:"5vmin"}},r.a.createElement(G.d,null))),null===o||t!==o._id?r.a.createElement("div",{className:"CanvasControlsOverlay"}):null))}z.defaultProps={artist:null,selectedWord:""};var X=z;t(158);var A=Object(N.a)({textField:{margin:"5px 0px","& .MuiOutlinedInput-root":{color:"black"},"& input":{padding:"7px"},"& label":{color:"black",transform:"translate(14px, 7px) scale(1)"},"& label.Mui-focused":{color:"black"}}});var J=function(e){var n=A(),t=e.gameCode,o=e.pid,c=e.setGuessedCorrectPid,l=Object(a.useState)(""),u=Object(i.a)(l,2),s=u[0],m=u[1],d=Object(a.useRef)(null),f=Object(a.useRef)(null);function v(e,n){var t=document.createElement("p");t.textContent=e,t.className="ChatRoomMessage",n&&(t.className+=" ChatRoomCorrectMessage"),d.current.appendChild(t),d.current.scrollTop=d.current.scrollHeight}function p(){!function(e,n,t){h.emit("send_message",{gameCode:e,pid:n,message:t})}(t,o,s),m(""),f.current.focus()}return Object(a.useEffect)(function(){return h.on("send_message_announcement",function(e){v("".concat(e.player.playerName,": ").concat(e.message),!1)}),function(){h.off("send_message_announcement")}},[]),Object(a.useEffect)(function(){return h.on("correct_word_announcement",function(e){v("".concat(e.player.playerName," has guessed the word!"),!0),c(e.player._id)}),function(){h.off("correct_word_announcement")}},[c]),r.a.createElement(w,{className:"ChatRoom"},r.a.createElement("div",{className:"ChatRoomMessageArea",ref:d}),r.a.createElement(k,{className:"".concat(n.textField," ChatRoomTextField"),label:"message",variant:"outlined",value:s,onChange:function(e){return m(e.target.value)},inputRef:f,onKeyDown:function(e){return function(e){13===e.keyCode&&""!==s&&p()}(e)}}))};t(159);function U(e){var n=e.gameCode,t=e.pid,a=e.artist,o=e.words,c=e.endTurnData,l=e.endGameData,u=e.onBackRoom;function i(){return r.a.createElement(r.a.Fragment,null,o.map(function(e){return r.a.createElement("button",{type:"button",key:e,className:"Button OverlayWordButton",onClick:function(){return function(e,n){h.emit("send_selected_word",{gameCode:e,word:n})}(n,e)}},e)}))}return r.a.createElement(w,{className:"Overlay"},null!==l?r.a.createElement("div",{className:"OverlayEndTurnResultsContainer"},l.players.map(function(e,n){return r.a.createElement("p",{key:e._id,className:"OverlayEndTurnResultsText"},"#",l.rankings[n]," ",e.playerName,": ",e.score)}),r.a.createElement("button",{type:"button",className:"Button OverlayEndTurnResultsButton",onClick:u},"Back to Room")):null!==c?r.a.createElement("div",{className:"OverlayEndTurnResultsContainer"},r.a.createElement("p",{className:"OverlayEndTurnResultsText"},"Selected Word: ",c.selectedWord),c.players.map(function(e){return r.a.createElement("p",{key:e._id,className:"OverlayEndTurnResultsText"},e.playerName,": ",e.score," + ",e.earnedScore)})):null===a?r.a.createElement("p",null,"Loading..."):t!==a._id?r.a.createElement("p",null,a.playerName," is choosing their word..."):i())}U.defaultProps={artist:null,endTurnData:null,endGameData:null};var K=U;t(160);var q=function(){var e=Object(u.g)().state,n=e.gameCode,t=e.pid,o=e.ownerPid,c=e.drawTime,s=Object(a.useState)(e.players),m=Object(i.a)(s,2),d=m[0],f=m[1],v=Object(a.useState)(null),p=Object(i.a)(v,2),b=p[0],E=p[1],y=Object(a.useState)(!1),_=Object(i.a)(y,2),w=_[0],j=_[1],N=Object(a.useState)([]),P=Object(i.a)(N,2),R=P[0],k=P[1],S=Object(a.useState)(c),x=Object(i.a)(S,2),M=x[0],F=x[1],T=Object(a.useState)(new Array(d.length).fill(1)),I=Object(i.a)(T,2),G=I[0],B=I[1],W=Object(a.useState)(null),L=Object(i.a)(W,2),Y=L[0],H=L[1],z=Object(a.useState)(null),A=Object(i.a)(z,2),U=A[0],q=A[1],$=Object(a.useState)(null),Q=Object(i.a)($,2),V=Q[0],Z=Q[1],ee=Object(a.useState)(null),ne=Object(i.a)(ee,2),te=ne[0],ae=ne[1],re=Object(a.useState)(1),oe=Object(i.a)(re,2),ce=oe[0],le=oe[1],ue=O().width,ie=Object(u.f)();function se(){C(n,t,function(){var e=!0,n=!1,a=void 0;try{for(var r,o=d[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var c=r.value;if(c._id===t)return c.playerName}}catch(l){n=!0,a=l}finally{try{e||null==o.return||o.return()}finally{if(n)throw a}}return null}(),ie)}function me(){return r.a.createElement(D,{players:d,pid:t,ownerPid:o,artistPid:null!==b?b._id:null,guessedCorrectPid:U,rankings:G})}function de(){return r.a.createElement("div",{className:"GameCanvasOverlayContainer"},r.a.createElement(X,{gameCode:n,pid:t,artist:b,selectedWord:te,currRound:ce,timer:M}),w?null:r.a.createElement(K,{gameCode:n,pid:t,artist:b,words:R,endTurnData:Y,endGameData:V,onBackRoom:se}))}function fe(){return r.a.createElement(J,{gameCode:n,pid:t,setGuessedCorrectPid:q})}return Object(a.useEffect)(function(){!function(e){h.emit("send_enter_game",{gameCode:e})}(n)},[]),Object(a.useEffect)(function(){return h.on("player_disconnect",function(e){f(d.filter(function(n){return n._id!==e.player._id}))}),function(){h.off("player_disconnect")}},[d]),Object(a.useEffect)(function(){return h.on("next_artist_announcement",function(e){console.log("got next artist"),function(){if(null!==Y){f(d.map(function(e,n){var t=Y.players[n];return e.score=t.score+t.earnedScore,e}));var e=d.map(function(e){return n(e.score)}).sort().reverse();B(d.map(function(t){return e.indexOf(n(t.score))+1}))}function n(e){return e||0}}(),H(null),ae(null),E(e.artist),k(e.words),q(null),le(e.currRound)}),function(){h.off("next_artist_announcement")}},[]),Object(a.useEffect)(function(){return h.on("selected_word_announcement",function(e){j(!0),ae(e.selectedWord)}),function(){h.off("selected_word_announcement")}},[]),Object(a.useEffect)(function(){return h.on("timer_announcement",function(e){F(e.time)}),function(){h.off("timer_announcement")}},[]),Object(a.useEffect)(function(){return h.on("end_turn_announcement",function(e){H(e),j(!1)}),function(){h.off("end_turn_announcement")}},[]),Object(a.useEffect)(function(){return h.on("end_game_announcement",function(e){Z(e)}),function(){h.off("end_game_announcement")}},[]),r.a.createElement("div",{className:"Game"},r.a.createElement(l.b,{to:"/",className:"GameTitleLink"},"Pictionary Live"),r.a.createElement("h2",{className:"GameGameCode"},"Game Code: ",n),r.a.createElement("div",{className:"GamePlayContainer"},ue>=g?r.a.createElement(r.a.Fragment,null,me(),de(),fe()):r.a.createElement(r.a.Fragment,null,de(),r.a.createElement("div",{className:"GamePlayersChatContainer"},me(),fe()))))};t(161);var $=function(){var e=O().height;return r.a.createElement(l.a,null,r.a.createElement("div",{className:"App",style:{height:e}},r.a.createElement(u.c,null,r.a.createElement(u.a,{exact:!0,path:"/"},r.a.createElement(S,null)),r.a.createElement(u.a,{path:"/room"},r.a.createElement(W,null)),r.a.createElement(u.a,{path:"/game"},r.a.createElement(q,null)))))},Q=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function V(e,n){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}t(162);var Z=document.getElementById("root");c.a.render(r.a.createElement($,null),Z),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var n="".concat("","/service-worker.js");Q?(function(e,n){fetch(e).then(function(t){var a=t.headers.get("content-type");404===t.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):V(e,n)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(n,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):V(n,e)})}}()},34:function(e,n,t){},95:function(e,n,t){e.exports=t(163)}},[[95,1,2]]]);
//# sourceMappingURL=main.5d8cfe7e.chunk.js.map