(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{144:function(e,n){},147:function(e,n,t){},151:function(e,n,t){},152:function(e,n,t){},154:function(e,n,t){},155:function(e,n,t){},156:function(e,n,t){},157:function(e,n,t){},158:function(e,n,t){},159:function(e,n,t){},161:function(e,n,t){},162:function(e,n,t){"use strict";t.r(n);var a=t(1),o=t.n(a),r=t(11),c=t.n(r),l=(t(98),t(99),t(24)),u=t(26),i=t(6),s=(t(100),t(80)),m=768,d=t.n(s)()("https://pictionary-live.herokuapp.com",{transports:["websocket"]});function f(e,n,t,a){e=e.toLowerCase(),d.emit("send_join_room",{gameCode:e}),d.on("join_room_success",function(o){d.off("join_room_success"),d.off("join_room_error"),b(e,n,t,a)}),d.on("join_room_error",function(e){d.off("join_room_success"),d.off("join_room_error"),alert("join room error")})}function b(e,n,t,a){var o={gameCode:e,pid:n,playerName:t};console.log(o),a.push("/room?gameCode=".concat(e),o)}function v(){var e=Object(a.useState)({width:window.innerWidth,height:window.innerHeight}),n=Object(i.a)(e,2),t=n[0],o=n[1];return Object(a.useLayoutEffect)(function(){function e(){o({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}},[]),t}t(147);var p=Object(a.forwardRef)(function(e,n){var t=e.children,a=e.className,r=e.customRef;return o.a.createElement("div",{className:"Panel ".concat(a),ref:r},t)});p.displayName="Panel",p.defaultProps={children:[],className:"",customRef:null};var g=p,h=t(199),E=t(192),_=Object(E.a)({textField:{margin:"7px","& .MuiOutlinedInput-root .MuiOutlinedInput-notchedOutline":{borderColor:"#f64f59"},"&:hover .MuiOutlinedInput-root .MuiOutlinedInput-notchedOutline":{borderColor:"#c471ed"},"& .MuiOutlinedInput-root.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#12c2e9"},"& .MuiOutlinedInput-root":{color:"white"},"& label":{color:"white"},"& label.Mui-focused":{color:"white"}}});function C(e){var n=_(),t=e.label,a=e.variant,r=e.value,c=e.onChange,l=e.error,u=e.inputRef,i=e.onKeyDown,s=e.className;return o.a.createElement(h.a,{label:t,variant:a,value:r,onChange:c,error:l,inputRef:u,onKeyDown:i,className:"".concat(n.textField," ").concat(s)})}C.defaultProps={label:null,variant:"standard",value:null,onChange:null,error:null,inputRef:null,onKeyDown:null,className:""};var O=C,y=t(0),w=t(19);t(151);var j=function(){return o.a.createElement("div",{className:"Footer"},o.a.createElement("p",{className:"FooterText"},"Created by"," ",o.a.createElement("a",{className:"FooterLink",href:"https://huberthung.me",target:"_blank",rel:"noopener noreferrer"},"Hubert Hung")),o.a.createElement("a",{className:"FooterLink",href:"https://github.com/hubert322/pictionary",target:"_blank",rel:"noopener noreferrer"},o.a.createElement(y.b.Provider,{value:{size:"2.2rem"}},o.a.createElement(w.c,null))))};t(35),t(152);var N=function(){var e=Object(a.useState)(""),n=Object(i.a)(e,2),t=n[0],r=n[1],c=Object(a.useState)(""),s=Object(i.a)(c,2),m=s[0],v=s[1],p=Object(a.useState)("Name"),h=Object(i.a)(p,2),E=h[0],_=h[1],C=Object(a.useState)(!1),y=Object(i.a)(C,2),w=y[0],N=y[1],P=Object(a.useState)("Game Code"),R=Object(i.a)(P,2),k=R[0],S=R[1],F=Object(a.useState)(!1),M=Object(i.a)(F,2),x=M[0],T=M[1],G=Object(a.useState)(null),I=Object(i.a)(G,2),B=I[0],L=I[1],D=Object(u.f)();return Object(a.useEffect)(function(){d.emit("send_get_pid",{})},[]),Object(a.useEffect)(function(){return d.on("get_pid_success",function(e){L(e.pid)}),function(){return d.off("get_pid_success")}},[]),Object(a.useEffect)(function(){return d.on("get_pid_error",function(e){alert("Failed to get pid. Please reload the page.")}),function(){return d.off("get_pid_error")}},[]),o.a.createElement("div",{className:"Home"},o.a.createElement(l.b,{to:"/",className:"HomeTitle"},"Pictionary Live"),null!==B?o.a.createElement(g,{className:"HomeMainContainer"},o.a.createElement(O,{label:E,variant:"outlined",value:m,onChange:function(e){return v(e.target.value)},error:w}),o.a.createElement("div",{className:"HomeJoinGameContainer"},o.a.createElement(O,{label:k,variant:"outlined",className:"HomeJoinGameTextField",value:t,onChange:function(e){return r(e.target.value)},error:x}),o.a.createElement("button",{type:"button",className:"Button HomeJoinGameButton",onClick:function(){""===t||""===m?(""===t&&(T(!0),S("Game Code required")),""===m&&(N(!0),_("Name required"))):"string"!==typeof B?console.log("Waiting for promise to resolve..."):f(t,B,m,D)}},"Join Game")),o.a.createElement("button",{type:"button",className:"Button HomeNewGameButton",onClick:function(){""===m?(N(!0),_("Name required")):"string"!==typeof B?console.log("Waiting for promise to resolve..."):function(e,n,t){d.emit("send_new_room",{pid:e}),d.on("new_room_success",function(a){d.off("new_room_success"),d.off("new_room_error"),b(a.gameCode,e,n,t)}),d.on("new_room_error",function(e){alert("new room error"),console.log(e),d.off("new_room_success"),d.off("new_room_error")})}(B,m,D)}},"New Game")):o.a.createElement("p",null,"Loading..."),o.a.createElement(j,null))},P=t(201),R=t(202),k=t(197),S=t(44);t(154);var F=Object(E.a)({formControl:{margin:"0px 7px","& .MuiOutlinedInput-root .MuiOutlinedInput-notchedOutline":{borderColor:"#f64f59"},"&:hover .MuiOutlinedInput-root .MuiOutlinedInput-notchedOutline":{borderColor:"#c471ed"},"& .MuiOutlinedInput-root.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#12c2e9"},"& .MuiOutlinedInput-root.Mui-disabled .MuiOutlinedInput-notchedOutline":{borderColor:"rgba(255, 255, 255, 0.38)"},"& .Mui-disabled":{cursor:"not-allowed"},"& .MuiOutlinedInput-root":{color:"white"},"& .MuiOutlinedInput-root.Mui-disabled":{color:"rgba(255, 255, 255, 0.38)"},"& label":{color:"white"},"& label.Mui-focused":{color:"white"},"& label.Mui-disabled":{color:"rgba(255, 255, 255, 0.54)"},"& option":{color:"black"},"& .MuiSelect-icon":{fill:"white"},"& .MuiSelect-icon.Mui-disabled":{fill:"rgba(255, 255, 255, 0.26)"}}});var M=function(){var e=F(),n=Object(u.g)().state,t=n.gameCode,r=n.pid,c=n.playerName,s=Object(a.useState)([]),f=Object(i.a)(s,2),b=f[0],p=f[1],h=Object(a.useState)(""),E=Object(i.a)(h,2),_=E[0],C=E[1],O=Object(a.useState)(3),j=Object(i.a)(O,2),N=j[0],M=j[1],x=Object(a.useState)("60s"),T=Object(i.a)(x,2),G=T[0],I=T[1],B=v().width,L=Object(u.f)();return Object(a.useEffect)(function(){!function(e,n,t){d.emit("send_enter_room",{gameCode:e,pid:n,playerName:t})}(t,r,c)},[]),Object(a.useEffect)(function(){return d.on("join_room_announcement",function(e){console.log(e),p(e.players),C(e.ownerPid),M(e.rounds),I(e.drawTime.toString()+"s")}),function(){d.off("join_room_announcement")}},[]),Object(a.useEffect)(function(){return d.on("rounds_announcement",function(e){M(e.rounds)}),function(){d.off("rounds_announcement")}},[]),Object(a.useEffect)(function(){return d.on("draw_time_announcement",function(e){I(e.drawTime.toString()+"s")}),function(){d.off("draw_time_announcement")}},[]),Object(a.useEffect)(function(){return d.on("play_game_announcement",function(){console.log("YO"),L.push("/game?gameCode=".concat(t),{gameCode:t,pid:r,players:b,ownerPid:_,drawTime:parseInt(G.slice(0,-1))})}),function(){d.off("play_game_announcement")}},[t,r,b,_,G,L]),Object(a.useEffect)(function(){return d.on("room_disconnect_announcement",function(e){console.log(e),p(e.players),C(e.ownerPid)}),function(){d.off("room_disconnect_announcement")}},[]),o.a.createElement("div",{className:"Room"},o.a.createElement(l.b,{to:"/",className:"RoomTitleLink"},"Pictionary Live"),o.a.createElement("h2",{className:"RoomGameCode"},"Game Code: ",t),o.a.createElement("div",{className:"RoomMainContainer"},o.a.createElement(g,{className:"RoomPlayersContainer"},o.a.createElement("h3",{className:"RoomContainerTitle"},"Players"),o.a.createElement("div",{className:"RoomPlayersList"},b.map(function(e){return o.a.createElement("div",{className:"RoomPlayer",key:e._id},o.a.createElement(y.b.Provider,{value:{size:B>=m?"3rem":"2rem"}},e._id===_?o.a.createElement(w.b,null):o.a.createElement(S.a,null)),o.a.createElement("span",{className:"RoomPlayerName"},e.playerName),o.a.createElement("span",{className:"RoomPlayerTag"},e._id===r?"You":" "))}))),o.a.createElement(g,{className:"RoomGameControlsContainer"},o.a.createElement("h3",{className:"RoomContainerTitle"},"Settings"),o.a.createElement(P.a,{variant:"outlined",className:e.formControl,disabled:r!==_},o.a.createElement(R.a,{htmlFor:"roundsSelector"},"Rounds"),o.a.createElement(k.a,{native:!0,label:"Rounds",value:N,onChange:function(e){return function(e,n){console.log(n),n=parseInt(n),d.emit("send_rounds",{gameCode:e,rounds:n})}(t,e.target.value)},inputProps:{id:"roundsSelector"}},o.a.createElement("option",null,"3"),o.a.createElement("option",null,"5"),o.a.createElement("option",null,"10"))),o.a.createElement(P.a,{variant:"outlined",className:e.formControl,disabled:r!==_},o.a.createElement(R.a,{htmlFor:"drawTimeSelector"},"Draw Time"),o.a.createElement(k.a,{native:!0,label:"Draw Time",value:G,onChange:function(e){return function(e,n){n=parseInt(n.slice(0,-1)),d.emit("send_draw_time",{gameCode:e,drawTime:n})}(t,e.target.value)},inputProps:{id:"drawTime"}},o.a.createElement("option",null,"30s"),o.a.createElement("option",null,"60s"),o.a.createElement("option",null,"90s"))),o.a.createElement("button",{type:"button",className:"Button RoomPlayButton",onClick:function(){b.length>1&&function(e){d.emit("send_play_game",{gameCode:e})}(t)},disabled:r!==_||b.length<=1},"Play"))))};t(155);function x(e){var n=e.players,t=e.pid,a=e.ownerPid,r=e.artistPid,c=e.guessedCorrectPids,l=e.rankings,u=v().width;return o.a.createElement(g,{className:"PlayersList"},n.map(function(e,n){var i=e.playerName,s=e._id,d=e.score;return o.a.createElement("div",{className:"PlayersListPlayer",key:s,style:{backgroundColor:c.hasOwnProperty(s)?"rgb(35, 231, 17)":"transparent"}},o.a.createElement("div",{className:"PlayersListPlayerRankingIcon"},o.a.createElement("span",{className:"PlayersListRanking"},"#",l[n]),o.a.createElement(y.b.Provider,{value:{size:u>=m?"1.8rem":"1.5rem"}},s===a?o.a.createElement(w.b,null):o.a.createElement(S.a,null)),o.a.createElement(y.b.Provider,{value:{size:u>=m?"1.5rem":"1.2rem"}},s===r?o.a.createElement(w.d,null):null)),o.a.createElement("span",{className:"PlayersListPlayerName"},i,t===s?" (You)":null,": ",d||0))}))}x.defaultProps={artistPid:null};var T=x,G=t(87),I=t(86);t(156);function B(e){var n=e.gameCode,t=e.pid,r=e.artist,c=e.selectedWord,l=e.currRound,u=e.timer,s=Object(a.useState)("#000000"),m=Object(i.a)(s,2),f=m[0],b=m[1],v=Object(a.useState)("brush"),p=Object(i.a)(v,2),h=p[0],E=p[1],_=Object(a.useRef)(null),C=Object(a.useRef)(!1),O=Object(a.useRef)(null),j=Object(a.useRef)(null),N=Object(a.useRef)([]);function P(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null!==r&&t===r._id)if(C.current=!0,document.body.style.userSelect="none",window.getSelection().removeAllRanges(),n)for(var a=0;a<1;++a)S(e,!1,a);else S(e,!1,-1)}function R(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null!==r&&t===r._id&&"bucket"!==h&&C.current)if(n)for(var a=0;a<1;++a)S(e,!0,a);else S(e,!0,-1)}function k(){null!==r&&t===r._id&&(document.body.style.userSelect="auto",C.current=!1)}function S(e,t,a){var o=function(e,n){var t,a,o=_.current.getBoundingClientRect();-1!==n?(t=e.touches[n].clientX,a=e.touches[n].clientY):(t=e.clientX,a=e.clientY);return{currX:(t-o.left)/(o.right-o.left)*_.current.width,currY:(a-o.top)/(o.bottom-o.top)*_.current.height}}(e,a),r=o.currX,c=o.currY;if("brush"===h){if(t&&null!==O.current&&null!==j.current){var l={prevX:O.current,prevY:j.current,currX:r,currY:c,newColor:f};F(l,!0),function(e,n){d.emit("send_draw_line",{gameCode:e,line:n})}(n,l)}else{var u={x:r,y:c,newColor:f};M(u,!0),function(e,n){d.emit("send_draw_dot",{gameCode:e,dot:n})}(n,u)}O.current=r,j.current=c}else{var i={x:r,y:c,newColor:f};x(i,!0),function(e,n){d.emit("send_draw_fill",{gameCode:e,fill:n})}(n,i)}}function F(e,n){var t=e.prevX,a=e.prevY,o=e.currX,r=e.currY,c=e.newColor,l=_.current.getContext("2d");l.beginPath(),l.strokeStyle=c,l.lineWidth=2,l.moveTo(t,a),l.lineTo(o,r),l.stroke(),l.closePath(),n&&N.current[N.current.length-1].points.push({x:o,y:r})}function M(e,n){var t=e.x,a=e.y,o=e.newColor,r=_.current.getContext("2d");r.beginPath(),r.fillStyle=o,r.fillRect(t,a,2,2),r.closePath(),n&&(N.current.push({points:[],newColor:o,brushStyle:"brush"}),N.current[N.current.length-1].points.push({x:t,y:a}))}function x(e,n){function t(e,n,t,a){return 0<=e&&e<t&&0<=n&&n<a}function a(e,n,t,a,o,r,c,l){var u=4*(n*t+e);return a.data[u+0]===o&&a.data[u+1]===r&&a.data[u+2]===c&&a.data[u+3]===l}var o=e.x,r=e.y,c=e.newColor;o=Math.floor(o),r=Math.floor(r);var l=_.current.getContext("2d"),u=_.current.getBoundingClientRect(),s=u.width,m=u.height;if(s=Math.floor(s),m=Math.floor(m),t(o,r,s,m)){var d=l.getImageData(0,0,s,m),f=function(e,n,t){var a=4*(n*s+e);return[t.data[a+0],t.data[a+1],t.data[a+2],t.data[a+3]]}(o,r,d),b=Object(i.a)(f,4),v=b[0],p=b[1],g=b[2],h=b[3],E=[[0,-1],[1,-1],[1,0],[1,1],[0,1],[-1,1],[-1,0],[-1,-1]],C={};C["".concat(o,"+").concat(r)]=1;var O=[[o,r]];for(l.beginPath(),l.fillStyle=c,l.fillRect(o,r,1,1);O.length;)for(var y=O.pop(),w=Object(i.a)(y,2),j=w[0],P=w[1],R=0,k=E;R<k.length;R++){var S=k[R],F=Object(i.a)(S,2),M=j+F[0],x=P+F[1];t(M,x,s,m)&&a(M,x,s,d,v,p,g,h)&&!C.hasOwnProperty("".concat(M,"+").concat(x))&&(l.fillRect(M,x,1,1),O.push([M,x]),C["".concat(M,"+").concat(x)]=1)}l.closePath(),n&&(N.current.push({points:[],newColor:c,brushStyle:"bucket"}),N.current[N.current.length-1].points.push({x:o,y:r}))}}function T(e){N.current.length&&(_.current.getContext("2d").clearRect(0,0,_.current.width,_.current.height),e&&(N.current=[]))}return Object(a.useEffect)(function(){return d.on("draw_line_announcement",function(e){null!==_.current&&F(e.line,!0)}),function(){d.off("draw_line_announcement")}},[]),Object(a.useEffect)(function(){return d.on("draw_dot_announcement",function(e){null!==_.current&&M(e.dot,!0)}),function(){d.off("draw_dot_announcement")}},[]),Object(a.useEffect)(function(){return d.on("draw_fill_announcement",function(e){null!==_.current&&x(e.fill,!0)}),function(){d.off("draw_fill_announcement")}},[]),Object(a.useEffect)(function(){return d.on("undo_canvas_announcement",function(){null!==_.current&&function(){if(N.current.length){T(!1),N.current.pop();for(var e=0;e<N.current.length;++e){var n=N.current[e],t=n.points,a=n.newColor;if("brush"===n.brushStyle){M({x:t[0].x,y:t[0].y,newColor:a},!1);for(var o=1;o<t.length;++o)F({prevX:t[o-1].x,prevY:t[o-1].y,currX:t[o].x,currY:t[o].y},!1)}else x({x:t[0].x,y:t[0].y,newColor:a},!1)}}}()}),function(){d.off("undo_canvas_announcement")}},[]),Object(a.useEffect)(function(){return d.on("clear_canvas_announcement",function(){null!==_.current&&T(!0)}),function(){d.off("clear_canvas_announcement")}},[]),Object(a.useEffect)(function(){null===c&&T(!0)},[c]),o.a.createElement(g,{className:"CanvasContainer"},o.a.createElement("div",{className:"CanvasHeader"},o.a.createElement("span",{className:"CanvasCurrRound"},"Round: ",l),o.a.createElement("span",{className:"CanvasUnderlinedWord"},"Word:"," ",null!==r&&t!==r._id&&null!==c?function(e){for(var n="",t=0;t<e.length;++t)" "===e[t]?n+="  ":n+="__",t+1!==e.length&&(n+="  ");return n}(c):c),o.a.createElement("span",{className:"CanvasTimer"},"Timer: ",u,"s")),o.a.createElement("canvas",{className:"Canvas",ref:_,onTouchStart:function(e){e.preventDefault(),P(e,!0)},onMouseDown:P,onTouchMove:function(e){e.preventDefault(),R(e,!0)},onMouseMove:R,onTouchEnd:function(e){e.preventDefault(),k()},onMouseUp:k,onMouseLeave:function(){O.current=null,j.current=null}}),o.a.createElement("div",{className:"CanvasDummy"}),o.a.createElement("div",{className:"CanvasControlsContainer"},o.a.createElement("div",{className:"CanvasColorsContainer"},["#000000","#FFFFFF","#808080","#C0C0C0","#FF0000","#FF7F00","#FFFF00","#00FF00","#00FFFF","#0000FF","#7F00FF","#FF00FF"].map(function(e){return o.a.createElement("button",{key:e,type:"button",style:{backgroundColor:e,color:null!==r&&t===r._id&&f===e?"#FFFFFF"!==e?"white":"black":e},className:"Button CanvasControl CanvasColorControl",disabled:null!==r&&t!==r._id,onClick:function(){b(e)}},o.a.createElement(y.b.Provider,{value:{size:"2.5vmin"}},o.a.createElement(w.a,null)))})),o.a.createElement("button",{type:"button",className:"Button CanvasControl",style:{backgroundColor:null!==r&&t===r._id&&"brush"===h?"#f64f59":"#ffffff"},onClick:function(){return E("brush")}},o.a.createElement(y.b.Provider,{value:{size:"5vmin"}},o.a.createElement(w.d,null))),o.a.createElement("button",{type:"button",className:"Button CanvasControl",style:{backgroundColor:null!==r&&t===r._id&&"bucket"===h?"#f64f59":"#ffffff"},onClick:function(){return E("bucket")}},o.a.createElement(y.b.Provider,{value:{size:"5vmin"}},o.a.createElement(I.a,null))),o.a.createElement("button",{type:"button",className:"Button CanvasControl",onClick:function(){N.current.length&&null!==r&&t===r._id&&function(e){d.emit("send_undo_canvas",{gameCode:e})}(n)}},o.a.createElement(y.b.Provider,{value:{size:"5vmin"}},o.a.createElement(G.a,null))),o.a.createElement("button",{type:"button",className:"Button CanvasControl",onClick:function(){N.current.length&&null!==r&&t===r._id&&function(e){d.emit("send_clear_canvas",{gameCode:e})}(n)}},o.a.createElement(y.b.Provider,{value:{size:"5vmin"}},o.a.createElement(w.e,null))),null===r||t!==r._id?o.a.createElement("div",{className:"CanvasControlsOverlay"}):null))}B.defaultProps={artist:null,selectedWord:""};var L=B,D=t(88);t(157);var W=Object(E.a)({textField:{margin:"5px 0px","& .MuiOutlinedInput-root":{color:"black"},"& input":{padding:"7px"},"& label":{color:"black",transform:"translate(14px, 7px) scale(1)"},"& label.Mui-focused":{color:"black"}}}),H=Object(a.forwardRef)(function(e,n){var t=W(),r=e.gameCode,c=e.pid,l=e.addGuessedCorrectPid,u=Object(a.useState)(""),s=Object(i.a)(u,2),m=s[0],f=s[1],b=Object(a.useState)([]),v=Object(i.a)(b,2),p=v[0],h=v[1],E=Object(a.useRef)(null),_=Object(a.useRef)(null);function C(e,n){var t={message:e,status:n};h(function(e){return[].concat(Object(D.a)(e),[t])}),E.current.scrollTop=E.current.scrollHeight}function y(){!function(e,n,t){d.emit("send_message",{gameCode:e,pid:n,message:t})}(r,c,m),f(""),_.current.focus()}return Object(a.useImperativeHandle)(n,function(){return{addMessage:C}}),Object(a.useEffect)(function(){return d.on("send_message_announcement",function(e){C("".concat(e.player.playerName,": ").concat(e.message),"")}),function(){d.off("send_message_announcement")}},[]),Object(a.useEffect)(function(){return d.on("correct_word_announcement",function(e){C("".concat(e.player.playerName," has guessed the word!"),"Correct"),l(e.player._id)}),function(){d.off("correct_word_announcement")}},[l]),o.a.createElement(g,{className:"ChatRoom",ref:n},o.a.createElement("div",{className:"ChatRoomMessageArea",ref:E},p.map(function(e,n){return o.a.createElement("p",{key:"msg".concat(n),className:"ChatRoomMessage ChatRoomMessage".concat(e.status)},e.message)})),o.a.createElement(O,{className:"".concat(t.textField," ChatRoomTextField"),label:"message",variant:"outlined",value:m,onChange:function(e){return f(e.target.value)},inputRef:_,onKeyDown:function(e){return function(e){13===e.keyCode&&""!==m&&y()}(e)}}))});H.displayName="ChatRoom";var Y=H;t(158);function z(e){var n=e.gameCode,t=e.pid,a=e.artist,r=e.words,c=e.endTurnData,l=e.endGameData,u=e.onBackRoom;function i(){return o.a.createElement(o.a.Fragment,null,r.map(function(e){return o.a.createElement("button",{type:"button",key:e,className:"Button OverlayWordButton",onClick:function(){return function(e,n){d.emit("send_selected_word",{gameCode:e,word:n})}(n,e)}},e)}))}return o.a.createElement(g,{className:"Overlay"},null!==l?o.a.createElement("div",{className:"OverlayEndTurnResultsContainer"},l.players.map(function(e,n){return o.a.createElement("p",{key:e._id,className:"OverlayEndTurnResultsText"},"#",l.rankings[n]," ",e.playerName,": ",e.score)}),o.a.createElement("button",{type:"button",className:"Button OverlayEndTurnResultsButton",onClick:u},"Back to Room")):null!==c?o.a.createElement("div",{className:"OverlayEndTurnResultsContainer"},o.a.createElement("p",{className:"OverlayEndTurnResultsText"},"Selected Word: ",c.selectedWord),c.players.map(function(e){return o.a.createElement("p",{key:e._id,className:"OverlayEndTurnResultsText"},e.playerName,": ",e.score," + ",e.earnedScore)})):null===a?o.a.createElement("p",null,"Loading..."):t!==a._id?o.a.createElement("p",null,a.playerName," is choosing their word..."):i())}z.defaultProps={artist:null,endTurnData:null,endGameData:null};var X=z;t(159);var A=function(){var e=Object(u.g)().state,n=e.gameCode,t=e.pid,r=e.drawTime,c=Object(a.useState)(e.players),s=Object(i.a)(c,2),m=s[0],b=s[1],v=Object(a.useState)(e.ownerPid),p=Object(i.a)(v,2),g=p[0],h=p[1],E=Object(a.useState)(null),_=Object(i.a)(E,2),C=_[0],O=_[1],y=Object(a.useState)(!1),w=Object(i.a)(y,2),j=w[0],N=w[1],P=Object(a.useState)([]),R=Object(i.a)(P,2),k=R[0],S=R[1],F=Object(a.useState)(r),M=Object(i.a)(F,2),x=M[0],G=M[1],I=Object(a.useState)(new Array(m.length).fill(1)),B=Object(i.a)(I,2),D=B[0],W=B[1],H=Object(a.useState)(null),z=Object(i.a)(H,2),A=z[0],J=z[1],U=Object(a.useState)({}),K=Object(i.a)(U,2),q=K[0],$=K[1],Q=Object(a.useState)(null),V=Object(i.a)(Q,2),Z=V[0],ee=V[1],ne=Object(a.useState)(null),te=Object(i.a)(ne,2),ae=te[0],oe=te[1],re=Object(a.useState)(1),ce=Object(i.a)(re,2),le=ce[0],ue=ce[1],ie=Object(a.useRef)(null),se=Object(u.f)();return Object(a.useEffect)(function(){!function(e){d.emit("send_enter_game",{gameCode:e})}(n)},[]),Object(a.useEffect)(function(){return d.on("next_artist_announcement",function(e){var n;console.log("got next artist"),console.log(e),n=e.players,b(n.map(function(e){return e.score=e.score+e.earnedScore,e})),W(e.rankings),J(null),oe(null),O(e.artist),S(e.words),$({}),ue(e.currRound)}),function(){d.off("next_artist_announcement")}},[]),Object(a.useEffect)(function(){return d.on("selected_word_announcement",function(e){N(!0),oe(e.selectedWord)}),function(){d.off("selected_word_announcement")}},[]),Object(a.useEffect)(function(){return d.on("timer_announcement",function(e){G(e.time)}),function(){d.off("timer_announcement")}},[]),Object(a.useEffect)(function(){return d.on("end_turn_announcement",function(e){J(e),N(!1)}),function(){d.off("end_turn_announcement")}},[]),Object(a.useEffect)(function(){return d.on("end_game_announcement",function(e){ee(e)}),function(){d.off("end_game_announcement")}},[]),Object(a.useEffect)(function(){return d.on("game_disconnect_announcement",function(e){b(e.players),W(e.rankings),h(e.ownerPid);var n="".concat(e.playerName," has disconnected");ie.current.addMessage(n,"Disconnected")}),function(){d.off("game_disconnect_announcement")}},[ie]),o.a.createElement("div",{className:"Game"},o.a.createElement(l.b,{to:"/",className:"GameTitleLink"},"Pictionary Live"),o.a.createElement("h2",{className:"GameGameCode"},"Game Code: ",n),o.a.createElement("div",{className:"GamePlayContainer"},o.a.createElement("div",{className:"GameDummyPlayer"}),o.a.createElement("div",{className:"GameCanvasOverlayContainer"},o.a.createElement(L,{gameCode:n,pid:t,artist:C,selectedWord:ae,currRound:le,timer:x}),j?null:o.a.createElement(X,{gameCode:n,pid:t,artist:C,words:k,endTurnData:A,endGameData:Z,onBackRoom:function(){f(n,t,function(){var e=!0,n=!1,a=void 0;try{for(var o,r=m[Symbol.iterator]();!(e=(o=r.next()).done);e=!0){var c=o.value;if(c._id===t)return c.playerName}}catch(l){n=!0,a=l}finally{try{e||null==r.return||r.return()}finally{if(n)throw a}}return null}(),se)}})),o.a.createElement("div",{className:"GameDummyChat"}),o.a.createElement("div",{className:"GamePlayersChatContainer"},o.a.createElement(T,{players:m,pid:t,ownerPid:g,artistPid:null!==C?C._id:null,guessedCorrectPids:q,rankings:D}),o.a.createElement(Y,{gameCode:n,pid:t,addGuessedCorrectPid:function(e){$(function(n){return n[e]=!0,n})},ref:ie}))))};t(160);var J=function(){var e=v().height;return o.a.createElement(l.a,null,o.a.createElement("div",{className:"App",style:{height:e}},o.a.createElement(u.c,null,o.a.createElement(u.a,{exact:!0,path:"/"},o.a.createElement(N,null)),o.a.createElement(u.a,{path:"/room"},o.a.createElement(M,null)),o.a.createElement(u.a,{path:"/game"},o.a.createElement(A,null)))))},U=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function K(e,n){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}t(161);var q=document.getElementById("root");c.a.render(o.a.createElement(J,null),q),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var n="".concat("","/service-worker.js");U?(function(e,n){fetch(e).then(function(t){var a=t.headers.get("content-type");404===t.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):K(e,n)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(n,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):K(n,e)})}}()},35:function(e,n,t){},93:function(e,n,t){e.exports=t(162)}},[[93,1,2]]]);
//# sourceMappingURL=main.0227f2e5.chunk.js.map