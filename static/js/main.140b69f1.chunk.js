(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{147:function(e,n){},150:function(e,n,t){},154:function(e,n,t){},155:function(e,n,t){},157:function(e,n,t){},158:function(e,n,t){},159:function(e,n,t){},160:function(e,n,t){},161:function(e,n,t){},162:function(e,n,t){},164:function(e,n,t){},165:function(e,n,t){"use strict";t.r(n);var a=t(1),o=t.n(a),r=t(11),c=t.n(r),l=(t(101),t(102),t(24)),u=t(26),i=t(6),s=t(54),m=t.n(s),d=t(81),f=t(82),b=t.n(f),p=t(83),v="https://pictionary-live.herokuapp.com",g=768,h=t.n(p)()(v,{transports:["websocket"]});function E(e,n,t,a){e=e.toLowerCase(),h.emit("send_join_room",{gameCode:e}),h.on("join_room_success",function(o){h.off("join_room_success"),h.off("join_room_error"),_(e,n,t,a)}),h.on("join_room_error",function(e){h.off("join_room_success"),h.off("join_room_error"),alert("join room error")})}function C(){return(C=Object(d.a)(m.a.mark(function e(){var n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.post(v+"/api/player/new");case 3:return n=e.sent,console.log(n.data),e.abrupt("return",n.data.pid);case 8:return e.prev=8,e.t0=e.catch(0),alert("Failed to get pid. Please reload the page."),console.log(e.t0.response),e.abrupt("return",null);case 13:case"end":return e.stop()}},e,null,[[0,8]])}))).apply(this,arguments)}function _(e,n,t,a){var o={gameCode:e,pid:n,playerName:t};console.log(o),a.push("/room?gameCode=".concat(e),o)}function O(){var e=Object(a.useState)({width:window.innerWidth,height:window.innerHeight}),n=Object(i.a)(e,2),t=n[0],o=n[1];return Object(a.useLayoutEffect)(function(){function e(){o({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}},[]),t}t(150);var y=Object(a.forwardRef)(function(e,n){var t=e.children,a=e.className,r=e.customRef;return o.a.createElement("div",{className:"Panel ".concat(a),ref:r},t)});y.displayName="Panel",y.defaultProps={children:[],className:"",customRef:null};var w=y,j=t(205),N=t(195),P=Object(N.a)({textField:{margin:"7px","& .MuiOutlinedInput-root .MuiOutlinedInput-notchedOutline":{borderColor:"#f64f59"},"&:hover .MuiOutlinedInput-root .MuiOutlinedInput-notchedOutline":{borderColor:"#c471ed"},"& .MuiOutlinedInput-root.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#12c2e9"},"& .MuiOutlinedInput-root":{color:"white"},"& label":{color:"white"},"& label.Mui-focused":{color:"white"}}});function R(e){var n=P(),t=e.label,a=e.variant,r=e.value,c=e.onChange,l=e.error,u=e.inputRef,i=e.onKeyDown,s=e.className;return o.a.createElement(j.a,{label:t,variant:a,value:r,onChange:c,error:l,inputRef:u,onKeyDown:i,className:"".concat(n.textField," ").concat(s)})}R.defaultProps={label:null,variant:"standard",value:null,onChange:null,error:null,inputRef:null,onKeyDown:null,className:""};var k=R,S=t(0),F=t(19);t(154);var M=function(){return o.a.createElement("div",{className:"Footer"},o.a.createElement("p",{className:"FooterText"},"Created by"," ",o.a.createElement("a",{className:"FooterLink",href:"https://huberthung.me",target:"_blank",rel:"noopener noreferrer"},"Hubert Hung")),o.a.createElement("a",{className:"FooterLink",href:"https://github.com/hubert322/pictionary",target:"_blank",rel:"noopener noreferrer"},o.a.createElement(S.b.Provider,{value:{size:"2.2rem"}},o.a.createElement(F.c,null))))};t(35),t(155);var x=function(){var e=Object(a.useState)(""),n=Object(i.a)(e,2),t=n[0],r=n[1],c=Object(a.useState)(""),s=Object(i.a)(c,2),m=s[0],d=s[1],f=Object(a.useState)("Name"),b=Object(i.a)(f,2),p=b[0],v=b[1],g=Object(a.useState)(!1),O=Object(i.a)(g,2),y=O[0],j=O[1],N=Object(a.useState)("Game Code"),P=Object(i.a)(N,2),R=P[0],S=P[1],F=Object(a.useState)(!1),x=Object(i.a)(F,2),T=x[0],G=x[1],I=Object(a.useState)(null),B=Object(i.a)(I,2),L=B[0],D=B[1],W=Object(u.f)();return Object(a.useEffect)(function(){(function(){return C.apply(this,arguments)})().then(function(e){D(e)})},[]),o.a.createElement("div",{className:"Home"},o.a.createElement(l.b,{to:"/",className:"HomeTitle"},"Pictionary Live"),null!==L?o.a.createElement(w,{className:"HomeMainContainer"},o.a.createElement(k,{label:p,variant:"outlined",value:m,onChange:function(e){return d(e.target.value)},error:y}),o.a.createElement("div",{className:"HomeJoinGameContainer"},o.a.createElement(k,{label:R,variant:"outlined",className:"HomeJoinGameTextField",value:t,onChange:function(e){return r(e.target.value)},error:T}),o.a.createElement("button",{type:"button",className:"Button HomeJoinGameButton",onClick:function(){""===t||""===m?(""===t&&(G(!0),S("Game Code required")),""===m&&(j(!0),v("Name required"))):"string"!==typeof L?console.log("Waiting for promise to resolve..."):E(t,L,m,W)}},"Join Game")),o.a.createElement("button",{type:"button",className:"Button HomeNewGameButton",onClick:function(){""===m?(j(!0),v("Name required")):"string"!==typeof L?console.log("Waiting for promise to resolve..."):function(e,n,t){h.emit("send_new_room",{pid:e}),h.on("new_room_success",function(a){h.off("new_room_success"),h.off("new_room_error"),_(a.gameCode,e,n,t)}),h.on("new_room_error",function(e){alert("new room error"),console.log(e),h.off("new_room_success"),h.off("new_room_error")})}(L,m,W)}},"New Game")):o.a.createElement("p",null,"Loading..."),o.a.createElement(M,null))},T=t(203),G=t(202),I=t(200),B=t(44);t(157);var L=Object(N.a)({formControl:{margin:"0px 7px","& .MuiOutlinedInput-root .MuiOutlinedInput-notchedOutline":{borderColor:"#f64f59"},"&:hover .MuiOutlinedInput-root .MuiOutlinedInput-notchedOutline":{borderColor:"#c471ed"},"& .MuiOutlinedInput-root.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#12c2e9"},"& .MuiOutlinedInput-root.Mui-disabled .MuiOutlinedInput-notchedOutline":{borderColor:"rgba(255, 255, 255, 0.38)"},"& .Mui-disabled":{cursor:"not-allowed"},"& .MuiOutlinedInput-root":{color:"white"},"& .MuiOutlinedInput-root.Mui-disabled":{color:"rgba(255, 255, 255, 0.38)"},"& label":{color:"white"},"& label.Mui-focused":{color:"white"},"& label.Mui-disabled":{color:"rgba(255, 255, 255, 0.54)"},"& option":{color:"black"},"& .MuiSelect-icon":{fill:"white"},"& .MuiSelect-icon.Mui-disabled":{fill:"rgba(255, 255, 255, 0.26)"}}});var D=function(){var e=L(),n=Object(u.g)().state,t=n.gameCode,r=n.pid,c=n.playerName,s=Object(a.useState)([]),m=Object(i.a)(s,2),d=m[0],f=m[1],b=Object(a.useState)(""),p=Object(i.a)(b,2),v=p[0],E=p[1],C=Object(a.useState)(3),_=Object(i.a)(C,2),y=_[0],j=_[1],N=Object(a.useState)("60s"),P=Object(i.a)(N,2),R=P[0],k=P[1],M=O().width,x=Object(u.f)();return Object(a.useEffect)(function(){!function(e,n,t){h.emit("send_enter_room",{gameCode:e,pid:n,playerName:t})}(t,r,c)},[]),Object(a.useEffect)(function(){return h.on("join_room_announcement",function(e){console.log(e),f(e.players),E(e.ownerPid),j(e.rounds),k(e.drawTime.toString()+"s")}),function(){h.off("join_room_announcement")}},[]),Object(a.useEffect)(function(){return h.on("rounds_announcement",function(e){j(e.rounds)}),function(){h.off("rounds_announcement")}},[]),Object(a.useEffect)(function(){return h.on("draw_time_announcement",function(e){k(e.drawTime.toString()+"s")}),function(){h.off("draw_time_announcement")}},[]),Object(a.useEffect)(function(){return h.on("play_game_announcement",function(){console.log("YO"),x.push("/game?gameCode=".concat(t),{gameCode:t,pid:r,players:d,ownerPid:v,drawTime:parseInt(R.slice(0,-1))})}),function(){h.off("play_game_announcement")}},[t,r,d,v,R,x]),Object(a.useEffect)(function(){return h.on("room_disconnect_announcement",function(e){console.log(e),f(e.players),E(e.ownerPid)}),function(){h.off("room_disconnect_announcement")}},[]),o.a.createElement("div",{className:"Room"},o.a.createElement(l.b,{to:"/",className:"RoomTitleLink"},"Pictionary Live"),o.a.createElement("h2",{className:"RoomGameCode"},"Game Code: ",t),o.a.createElement("div",{className:"RoomMainContainer"},o.a.createElement(w,{className:"RoomPlayersContainer"},o.a.createElement("h3",{className:"RoomContainerTitle"},"Players"),o.a.createElement("div",{className:"RoomPlayersList"},d.map(function(e){return o.a.createElement("div",{className:"RoomPlayer",key:e._id},o.a.createElement(S.b.Provider,{value:{size:M>=g?"3rem":"2rem"}},e._id===v?o.a.createElement(F.b,null):o.a.createElement(B.a,null)),o.a.createElement("span",{className:"RoomPlayerName"},e.playerName),o.a.createElement("span",{className:"RoomPlayerTag"},e._id===r?"You":" "))}))),o.a.createElement(w,{className:"RoomGameControlsContainer"},o.a.createElement("h3",{className:"RoomContainerTitle"},"Settings"),o.a.createElement(T.a,{variant:"outlined",className:e.formControl,disabled:r!==v},o.a.createElement(G.a,{htmlFor:"roundsSelector"},"Rounds"),o.a.createElement(I.a,{native:!0,label:"Rounds",value:y,onChange:function(e){return function(e,n){console.log(n),n=parseInt(n),h.emit("send_rounds",{gameCode:e,rounds:n})}(t,e.target.value)},inputProps:{id:"roundsSelector"}},o.a.createElement("option",null,"3"),o.a.createElement("option",null,"5"),o.a.createElement("option",null,"10"))),o.a.createElement(T.a,{variant:"outlined",className:e.formControl,disabled:r!==v},o.a.createElement(G.a,{htmlFor:"drawTimeSelector"},"Draw Time"),o.a.createElement(I.a,{native:!0,label:"Draw Time",value:R,onChange:function(e){return function(e,n){n=parseInt(n.slice(0,-1)),h.emit("send_draw_time",{gameCode:e,drawTime:n})}(t,e.target.value)},inputProps:{id:"drawTime"}},o.a.createElement("option",null,"30s"),o.a.createElement("option",null,"60s"),o.a.createElement("option",null,"90s"))),o.a.createElement("button",{type:"button",className:"Button RoomPlayButton",onClick:function(){d.length>1&&function(e){h.emit("send_play_game",{gameCode:e})}(t)},disabled:r!==v||d.length<=1},"Play"))))};t(158);function W(e){var n=e.players,t=e.pid,a=e.ownerPid,r=e.artistPid,c=e.guessedCorrectPids,l=e.rankings,u=O().width;return o.a.createElement(w,{className:"PlayersList"},n.map(function(e,n){var i=e.playerName,s=e._id,m=e.score;return o.a.createElement("div",{className:"PlayersListPlayer",key:s,style:{backgroundColor:c.hasOwnProperty(s)?"rgb(35, 231, 17)":"transparent"}},o.a.createElement("div",{className:"PlayersListPlayerRankingIcon"},o.a.createElement("span",{className:"PlayersListRanking"},"#",l[n]),o.a.createElement(S.b.Provider,{value:{size:u>=g?"1.8rem":"1.5rem"}},s===a?o.a.createElement(F.b,null):o.a.createElement(B.a,null)),o.a.createElement(S.b.Provider,{value:{size:u>=g?"1.5rem":"1.2rem"}},s===r?o.a.createElement(F.d,null):null)),o.a.createElement("span",{className:"PlayersListPlayerName"},i,t===s?" (You)":null,": ",m||0))}))}W.defaultProps={artistPid:null};var H=W,Y=t(90),z=t(89);t(159);function X(e){var n=e.gameCode,t=e.pid,r=e.artist,c=e.selectedWord,l=e.currRound,u=e.timer,s=Object(a.useState)("#000000"),m=Object(i.a)(s,2),d=m[0],f=m[1],b=Object(a.useState)("brush"),p=Object(i.a)(b,2),v=p[0],g=p[1],E=Object(a.useRef)(null),C=Object(a.useRef)(!1),_=Object(a.useRef)(null),O=Object(a.useRef)(null),y=Object(a.useRef)([]);function j(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null!==r&&t===r._id)if(C.current=!0,document.body.style.userSelect="none",window.getSelection().removeAllRanges(),n)for(var a=0;a<1;++a)R(e,!1,a);else R(e,!1,-1)}function N(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null!==r&&t===r._id&&"bucket"!==v&&C.current)if(n)for(var a=0;a<1;++a)R(e,!0,a);else R(e,!0,-1)}function P(){null!==r&&t===r._id&&(document.body.style.userSelect="auto",C.current=!1)}function R(e,t,a){var o=function(e,n){var t,a,o=E.current.getBoundingClientRect();-1!==n?(t=e.touches[n].clientX,a=e.touches[n].clientY):(t=e.clientX,a=e.clientY);return{currX:(t-o.left)/(o.right-o.left)*E.current.width,currY:(a-o.top)/(o.bottom-o.top)*E.current.height}}(e,a),r=o.currX,c=o.currY;if("brush"===v){if(t&&null!==_.current&&null!==O.current){var l={prevX:_.current,prevY:O.current,currX:r,currY:c,newColor:d};k(l,!0),function(e,n){h.emit("send_draw_line",{gameCode:e,line:n})}(n,l)}else{var u={x:r,y:c,newColor:d};M(u,!0),function(e,n){h.emit("send_draw_dot",{gameCode:e,dot:n})}(n,u)}_.current=r,O.current=c}else{var i={x:r,y:c,newColor:d};x(i,!0),function(e,n){h.emit("send_draw_fill",{gameCode:e,fill:n})}(n,i)}}function k(e,n){var t=e.prevX,a=e.prevY,o=e.currX,r=e.currY,c=e.newColor,l=E.current.getContext("2d");l.beginPath(),l.strokeStyle=c,l.lineWidth=2,l.moveTo(t,a),l.lineTo(o,r),l.stroke(),l.closePath(),n&&y.current[y.current.length-1].points.push({x:o,y:r})}function M(e,n){var t=e.x,a=e.y,o=e.newColor,r=E.current.getContext("2d");r.beginPath(),r.fillStyle=o,r.fillRect(t,a,2,2),r.closePath(),n&&(y.current.push({points:[],newColor:o,brushStyle:"brush"}),y.current[y.current.length-1].points.push({x:t,y:a}))}function x(e,n){function t(e,n,t,a){return 0<=e&&e<t&&0<=n&&n<a}function a(e,n,t,a,o,r,c,l){var u=4*(n*t+e);return a.data[u+0]===o&&a.data[u+1]===r&&a.data[u+2]===c&&a.data[u+3]===l}var o=e.x,r=e.y,c=e.newColor;o=Math.floor(o),r=Math.floor(r);var l=E.current.getContext("2d"),u=E.current.getBoundingClientRect(),s=u.width,m=u.height;if(s=Math.floor(s),m=Math.floor(m),t(o,r,s,m)){var d=l.getImageData(0,0,s,m),f=function(e,n,t){var a=4*(n*s+e);return[t.data[a+0],t.data[a+1],t.data[a+2],t.data[a+3]]}(o,r,d),b=Object(i.a)(f,4),p=b[0],v=b[1],g=b[2],h=b[3],C=[[0,-1],[1,-1],[1,0],[1,1],[0,1],[-1,1],[-1,0],[-1,-1]],_={};_["".concat(o,"+").concat(r)]=1;var O=[[o,r]];for(l.beginPath(),l.fillStyle=c,l.fillRect(o,r,1,1);O.length;)for(var w=O.pop(),j=Object(i.a)(w,2),N=j[0],P=j[1],R=0,k=C;R<k.length;R++){var S=k[R],F=Object(i.a)(S,2),M=N+F[0],x=P+F[1];t(M,x,s,m)&&a(M,x,s,d,p,v,g,h)&&!_.hasOwnProperty("".concat(M,"+").concat(x))&&(l.fillRect(M,x,1,1),O.push([M,x]),_["".concat(M,"+").concat(x)]=1)}l.closePath(),n&&(y.current.push({points:[],newColor:c,brushStyle:"bucket"}),y.current[y.current.length-1].points.push({x:o,y:r}))}}function T(e){y.current.length&&(E.current.getContext("2d").clearRect(0,0,E.current.width,E.current.height),e&&(y.current=[]))}return Object(a.useEffect)(function(){return h.on("draw_line_announcement",function(e){null!==E.current&&k(e.line,!0)}),function(){h.off("draw_line_announcement")}},[]),Object(a.useEffect)(function(){return h.on("draw_dot_announcement",function(e){null!==E.current&&M(e.dot,!0)}),function(){h.off("draw_dot_announcement")}},[]),Object(a.useEffect)(function(){return h.on("draw_fill_announcement",function(e){null!==E.current&&x(e.fill,!0)}),function(){h.off("draw_fill_announcement")}},[]),Object(a.useEffect)(function(){return h.on("undo_canvas_announcement",function(){null!==E.current&&function(){if(y.current.length){T(!1),y.current.pop();for(var e=0;e<y.current.length;++e){var n=y.current[e],t=n.points,a=n.newColor;if("brush"===n.brushStyle){M({x:t[0].x,y:t[0].y,newColor:a},!1);for(var o=1;o<t.length;++o)k({prevX:t[o-1].x,prevY:t[o-1].y,currX:t[o].x,currY:t[o].y},!1)}else x({x:t[0].x,y:t[0].y,newColor:a},!1)}}}()}),function(){h.off("undo_canvas_announcement")}},[]),Object(a.useEffect)(function(){return h.on("clear_canvas_announcement",function(){null!==E.current&&T(!0)}),function(){h.off("clear_canvas_announcement")}},[]),Object(a.useEffect)(function(){null===c&&T(!0)},[r]),o.a.createElement(w,{className:"CanvasContainer"},o.a.createElement("div",{className:"CanvasHeader"},o.a.createElement("span",{className:"CanvasCurrRound"},"Round: ",l),o.a.createElement("span",{className:"CanvasUnderlinedWord"},"Word:"," ",null!==r&&t!==r._id&&null!==c?function(e){for(var n="",t=0;t<e.length;++t)" "===e[t]?n+="  ":n+="__",t+1!==e.length&&(n+="  ");return n}(c):c),o.a.createElement("span",{className:"CanvasTimer"},"Timer: ",u,"s")),o.a.createElement("canvas",{className:"Canvas",ref:E,onTouchStart:function(e){e.preventDefault(),j(e,!0)},onMouseDown:j,onTouchMove:function(e){e.preventDefault(),N(e,!0)},onMouseMove:N,onTouchEnd:function(e){e.preventDefault(),P()},onMouseUp:P,onMouseLeave:function(){_.current=null,O.current=null}}),o.a.createElement("div",{className:"CanvasDummy"}),o.a.createElement("div",{className:"CanvasControlsContainer"},o.a.createElement("div",{className:"CanvasColorsContainer"},["#000000","#FFFFFF","#808080","#C0C0C0","#FF0000","#FF7F00","#FFFF00","#00FF00","#00FFFF","#0000FF","#7F00FF","#FF00FF"].map(function(e){return o.a.createElement("button",{key:e,type:"button",style:{backgroundColor:e,color:null!==r&&t===r._id&&d===e?"#FFFFFF"!==e?"white":"black":e},className:"Button CanvasControl CanvasColorControl",disabled:null!==r&&t!==r._id,onClick:function(){f(e)}},o.a.createElement(S.b.Provider,{value:{size:"2.5vmin"}},o.a.createElement(F.a,null)))})),o.a.createElement("button",{type:"button",className:"Button CanvasControl",style:{backgroundColor:null!==r&&t===r._id&&"brush"===v?"#f64f59":"#ffffff"},onClick:function(){return g("brush")}},o.a.createElement(S.b.Provider,{value:{size:"5vmin"}},o.a.createElement(F.d,null))),o.a.createElement("button",{type:"button",className:"Button CanvasControl",style:{backgroundColor:null!==r&&t===r._id&&"bucket"===v?"#f64f59":"#ffffff"},onClick:function(){return g("bucket")}},o.a.createElement(S.b.Provider,{value:{size:"5vmin"}},o.a.createElement(z.a,null))),o.a.createElement("button",{type:"button",className:"Button CanvasControl",onClick:function(){y.current.length&&null!==r&&t===r._id&&function(e){h.emit("send_undo_canvas",{gameCode:e})}(n)}},o.a.createElement(S.b.Provider,{value:{size:"5vmin"}},o.a.createElement(Y.a,null))),o.a.createElement("button",{type:"button",className:"Button CanvasControl",onClick:function(){y.current.length&&null!==r&&t===r._id&&function(e){h.emit("send_clear_canvas",{gameCode:e})}(n)}},o.a.createElement(S.b.Provider,{value:{size:"5vmin"}},o.a.createElement(F.e,null))),null===r||t!==r._id?o.a.createElement("div",{className:"CanvasControlsOverlay"}):null))}X.defaultProps={artist:null,selectedWord:""};var A=X,J=t(91);t(160);var U=Object(N.a)({textField:{margin:"5px 0px","& .MuiOutlinedInput-root":{color:"black"},"& input":{padding:"7px"},"& label":{color:"black",transform:"translate(14px, 7px) scale(1)"},"& label.Mui-focused":{color:"black"}}}),K=Object(a.forwardRef)(function(e,n){var t=U(),r=e.gameCode,c=e.pid,l=e.addGuessedCorrectPid,u=Object(a.useState)(""),s=Object(i.a)(u,2),m=s[0],d=s[1],f=Object(a.useState)([]),b=Object(i.a)(f,2),p=b[0],v=b[1],g=Object(a.useRef)(null),E=Object(a.useRef)(null);function C(e,n){var t={message:e,status:n};v(function(e){return[].concat(Object(J.a)(e),[t])}),g.current.scrollTop=g.current.scrollHeight}function _(){!function(e,n,t){h.emit("send_message",{gameCode:e,pid:n,message:t})}(r,c,m),d(""),E.current.focus()}return Object(a.useImperativeHandle)(n,function(){return{addMessage:C}}),Object(a.useEffect)(function(){return h.on("send_message_announcement",function(e){C("".concat(e.player.playerName,": ").concat(e.message),"")}),function(){h.off("send_message_announcement")}},[]),Object(a.useEffect)(function(){return h.on("correct_word_announcement",function(e){C("".concat(e.player.playerName," has guessed the word!"),"Correct"),l(e.player._id)}),function(){h.off("correct_word_announcement")}},[l]),o.a.createElement(w,{className:"ChatRoom",ref:n},o.a.createElement("div",{className:"ChatRoomMessageArea",ref:g},p.map(function(e,n){return o.a.createElement("p",{key:"msg".concat(n),className:"ChatRoomMessage ChatRoomMessage".concat(e.status)},e.message)})),o.a.createElement(k,{className:"".concat(t.textField," ChatRoomTextField"),label:"message",variant:"outlined",value:m,onChange:function(e){return d(e.target.value)},inputRef:E,onKeyDown:function(e){return function(e){13===e.keyCode&&""!==m&&_()}(e)}}))});K.displayName="ChatRoom";var q=K;t(161);function $(e){var n=e.gameCode,t=e.pid,a=e.artist,r=e.words,c=e.endTurnData,l=e.endGameData,u=e.onBackRoom;function i(){return o.a.createElement(o.a.Fragment,null,r.map(function(e){return o.a.createElement("button",{type:"button",key:e,className:"Button OverlayWordButton",onClick:function(){return function(e,n){h.emit("send_selected_word",{gameCode:e,word:n})}(n,e)}},e)}))}return o.a.createElement(w,{className:"Overlay"},null!==l?o.a.createElement("div",{className:"OverlayEndTurnResultsContainer"},l.players.map(function(e,n){return o.a.createElement("p",{key:e._id,className:"OverlayEndTurnResultsText"},"#",l.rankings[n]," ",e.playerName,": ",e.score)}),o.a.createElement("button",{type:"button",className:"Button OverlayEndTurnResultsButton",onClick:u},"Back to Room")):null!==c?o.a.createElement("div",{className:"OverlayEndTurnResultsContainer"},o.a.createElement("p",{className:"OverlayEndTurnResultsText"},"Selected Word: ",c.selectedWord),c.players.map(function(e){return o.a.createElement("p",{key:e._id,className:"OverlayEndTurnResultsText"},e.playerName,": ",e.score," + ",e.earnedScore)})):null===a?o.a.createElement("p",null,"Loading..."):t!==a._id?o.a.createElement("p",null,a.playerName," is choosing their word..."):i())}$.defaultProps={artist:null,endTurnData:null,endGameData:null};var Q=$;t(162);var V=function(){var e=Object(u.g)().state,n=e.gameCode,t=e.pid,r=e.drawTime,c=Object(a.useState)(e.players),s=Object(i.a)(c,2),m=s[0],d=s[1],f=Object(a.useState)(e.ownerPid),b=Object(i.a)(f,2),p=b[0],v=b[1],g=Object(a.useState)(null),C=Object(i.a)(g,2),_=C[0],O=C[1],y=Object(a.useState)(!1),w=Object(i.a)(y,2),j=w[0],N=w[1],P=Object(a.useState)([]),R=Object(i.a)(P,2),k=R[0],S=R[1],F=Object(a.useState)(r),M=Object(i.a)(F,2),x=M[0],T=M[1],G=Object(a.useState)(new Array(m.length).fill(1)),I=Object(i.a)(G,2),B=I[0],L=I[1],D=Object(a.useState)(null),W=Object(i.a)(D,2),Y=W[0],z=W[1],X=Object(a.useState)({}),J=Object(i.a)(X,2),U=J[0],K=J[1],$=Object(a.useState)(null),V=Object(i.a)($,2),Z=V[0],ee=V[1],ne=Object(a.useState)(null),te=Object(i.a)(ne,2),ae=te[0],oe=te[1],re=Object(a.useState)(1),ce=Object(i.a)(re,2),le=ce[0],ue=ce[1],ie=Object(a.useRef)(null),se=Object(u.f)();return Object(a.useEffect)(function(){!function(e){h.emit("send_enter_game",{gameCode:e})}(n)},[]),Object(a.useEffect)(function(){return h.on("next_artist_announcement",function(e){var n;console.log("got next artist"),console.log(e),n=e.players,d(n.map(function(e){return e.score=e.score+e.earnedScore,e})),L(e.rankings),z(null),oe(null),O(e.artist),S(e.words),K({}),ue(e.currRound)}),function(){h.off("next_artist_announcement")}},[]),Object(a.useEffect)(function(){return h.on("selected_word_announcement",function(e){N(!0),oe(e.selectedWord)}),function(){h.off("selected_word_announcement")}},[]),Object(a.useEffect)(function(){return h.on("timer_announcement",function(e){T(e.time)}),function(){h.off("timer_announcement")}},[]),Object(a.useEffect)(function(){return h.on("end_turn_announcement",function(e){z(e),N(!1)}),function(){h.off("end_turn_announcement")}},[]),Object(a.useEffect)(function(){return h.on("end_game_announcement",function(e){ee(e)}),function(){h.off("end_game_announcement")}},[]),Object(a.useEffect)(function(){return h.on("game_disconnect_announcement",function(e){d(e.players),L(e.rankings),v(e.ownerPid);var n="".concat(e.playerName," has disconnected");ie.current.addMessage(n,"Disconnected")}),function(){h.off("game_disconnect_announcement")}},[ie]),o.a.createElement("div",{className:"Game"},o.a.createElement(l.b,{to:"/",className:"GameTitleLink"},"Pictionary Live"),o.a.createElement("h2",{className:"GameGameCode"},"Game Code: ",n),o.a.createElement("div",{className:"GamePlayContainer"},o.a.createElement("div",{className:"GameDummyPlayer"}),o.a.createElement("div",{className:"GameCanvasOverlayContainer"},o.a.createElement(A,{gameCode:n,pid:t,artist:_,selectedWord:ae,currRound:le,timer:x}),j?null:o.a.createElement(Q,{gameCode:n,pid:t,artist:_,words:k,endTurnData:Y,endGameData:Z,onBackRoom:function(){E(n,t,function(){var e=!0,n=!1,a=void 0;try{for(var o,r=m[Symbol.iterator]();!(e=(o=r.next()).done);e=!0){var c=o.value;if(c._id===t)return c.playerName}}catch(l){n=!0,a=l}finally{try{e||null==r.return||r.return()}finally{if(n)throw a}}return null}(),se)}})),o.a.createElement("div",{className:"GameDummyChat"}),o.a.createElement("div",{className:"GamePlayersChatContainer"},o.a.createElement(H,{players:m,pid:t,ownerPid:p,artistPid:null!==_?_._id:null,guessedCorrectPids:U,rankings:B}),o.a.createElement(q,{gameCode:n,pid:t,addGuessedCorrectPid:function(e){K(function(n){return n[e]=!0,n})},ref:ie}))))};t(163);var Z=function(){var e=O().height;return o.a.createElement(l.a,null,o.a.createElement("div",{className:"App",style:{height:e}},o.a.createElement(u.c,null,o.a.createElement(u.a,{exact:!0,path:"/"},o.a.createElement(x,null)),o.a.createElement(u.a,{path:"/room"},o.a.createElement(D,null)),o.a.createElement(u.a,{path:"/game"},o.a.createElement(V,null)))))},ee=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ne(e,n){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}t(164);var te=document.getElementById("root");c.a.render(o.a.createElement(Z,null),te),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var n="".concat("","/service-worker.js");ee?(function(e,n){fetch(e).then(function(t){var a=t.headers.get("content-type");404===t.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):ne(e,n)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(n,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):ne(n,e)})}}()},35:function(e,n,t){},96:function(e,n,t){e.exports=t(165)}},[[96,1,2]]]);
//# sourceMappingURL=main.140b69f1.chunk.js.map